<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Destination | AI Travel Planner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    colors: {
                        brand: {
                            dark: '#0f172a',
                            accent: '#3b82f6',
                            highlight: '#f43f5e'
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom scrollbar for clean look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .activity-card {
            transition: all 0.3s ease;
        }
        .activity-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .hidden-input {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            opacity: 0;
        }
        .hidden-input.show {
            max-height: 100px;
            opacity: 1;
            margin-top: 0.75rem;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 antialiased min-h-screen flex flex-col">

    <!-- Navbar -->
    <nav class="bg-brand-dark text-white p-4 sticky top-0 z-50 shadow-lg">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2">
                <i class="fas fa-globe-americas text-brand-accent text-2xl"></i>
                <h1 class="text-2xl font-bold font-serif tracking-wide">Ultimate Destination</h1>
            </div>
            <div class="hidden md:flex gap-6 text-sm font-medium">
                <a href="#" class="hover:text-brand-accent transition">My Trips</a>
                <a href="#" class="hover:text-brand-accent transition">Community</a>
                <a href="#" class="hover:text-brand-accent transition">Account</a>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-grow">
        
        <!-- Hero / Input Section -->
        <section id="input-section" class="relative bg-brand-dark py-16 md:py-24 overflow-hidden">
            <!-- Background Image overlay -->
            <div class="absolute inset-0 opacity-30">
                <img src="https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=2021&q=80" alt="Travel" class="w-full h-full object-cover">
            </div>
            
            <div class="relative max-w-5xl mx-auto px-4 text-center">
                <h2 class="text-4xl md:text-6xl font-serif text-white mb-6 font-bold leading-tight">
                    Your Dream Vacation, <br><span class="text-brand-accent">AI Generated.</span>
                </h2>
                <p class="text-slate-300 text-lg mb-10 max-w-2xl mx-auto">
                    Tell us where you want to go, who you're with, and when. Our engine builds a personalized, age-appropriate itinerary with live details.
                </p>

                <!-- Configuration Form -->
                <div class="glass-panel rounded-2xl p-6 md:p-8 text-left shadow-2xl max-w-4xl mx-auto transform transition-all">
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
                        
                        <!-- Destination -->
                        <div class="md:col-span-2">
                            <label class="block text-sm font-bold text-slate-700 mb-2">Destination</label>
                            <div class="relative">
                                <i class="fas fa-map-marker-alt absolute left-3 top-3 text-slate-400"></i>
                                <select id="destination" onchange="toggleCustomDest()" class="w-full pl-10 pr-4 py-3 rounded-lg border border-slate-200 focus:ring-2 focus:ring-brand-accent focus:border-transparent bg-white appearance-none cursor-pointer">
                                    <optgroup label="United States">
                                        <option value="new-york">New York City, NY</option>
                                        <option value="los-angeles">Los Angeles, CA</option>
                                        <option value="chicago">Chicago, IL</option>
                                        <option value="miami">Miami, FL</option>
                                        <option value="san-francisco">San Francisco, CA</option>
                                        <option value="las-vegas">Las Vegas, NV</option>
                                        <option value="honolulu">Honolulu, HI</option>
                                    </optgroup>
                                    <optgroup label="Europe">
                                        <option value="paris">Paris, France</option>
                                        <option value="london">London, UK</option>
                                        <option value="berlin">Berlin, Germany</option>
                                        <option value="rome">Rome, Italy</option>
                                        <option value="barcelona">Barcelona, Spain</option>
                                        <option value="amsterdam">Amsterdam, Netherlands</option>
                                        <option value="istanbul">Istanbul, Turkey</option>
                                    </optgroup>
                                    <optgroup label="Asia / Oceania">
                                        <option value="tokyo">Tokyo, Japan</option>
                                        <option value="seoul">Seoul, South Korea</option>
                                        <option value="sydney">Sydney, Australia</option>
                                        <option value="bangkok">Bangkok, Thailand</option>
                                        <option value="singapore">Singapore</option>
                                        <option value="dubai">Dubai, UAE</option>
                                    </optgroup>
                                    <optgroup label="Americas / Africa">
                                        <option value="toronto">Toronto, Canada</option>
                                        <option value="rio">Rio de Janeiro, Brazil</option>
                                        <option value="capetown">Cape Town, South Africa</option>
                                    </optgroup>
                                    <option value="custom">Other / Custom Location...</option>
                                </select>
                            </div>
                            <div id="custom-dest-container" class="hidden-input">
                                <input type="text" id="custom-dest-val" placeholder="Enter City Name (e.g. Rio de Janeiro)" class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-brand-accent focus:border-transparent bg-slate-50">
                            </div>
                        </div>

                        <!-- Start Date -->
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-2">Start Date</label>
                            <div class="relative">
                                <input type="date" id="start-date" class="w-full px-4 py-3 rounded-lg border border-slate-200 focus:ring-2 focus:ring-brand-accent focus:border-transparent bg-white text-slate-700">
                            </div>
                        </div>

                        <!-- Duration -->
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-2">Duration</label>
                            <div class="relative">
                                <i class="fas fa-calendar-alt absolute left-3 top-3 text-slate-400"></i>
                                <select id="duration" class="w-full pl-10 pr-4 py-3 rounded-lg border border-slate-200 focus:ring-2 focus:ring-brand-accent focus:border-transparent bg-white appearance-none cursor-pointer">
                                    <option value="1">1 Day</option>
                                    <option value="3" selected>3 Days</option>
                                    <option value="5">5 Days</option>
                                    <option value="7">7 Days</option>
                                </select>
                            </div>
                        </div>

                        <!-- Age Group -->
                        <div class="md:col-span-2">
                            <label class="block text-sm font-bold text-slate-700 mb-2">Who is traveling?</label>
                            <div class="relative">
                                <i class="fas fa-user-group absolute left-3 top-3 text-slate-400"></i>
                                <select id="age-group" class="w-full pl-10 pr-4 py-3 rounded-lg border border-slate-200 focus:ring-2 focus:ring-brand-accent focus:border-transparent bg-white appearance-none cursor-pointer" onchange="toggleNightlife()">
                                    <option value="family">Family (Kids under 18) - Safe & Fun</option>
                                    <option value="young-adult">Young Adults (18-30) - Trendy</option>
                                    <option value="adult">Adults (30-55) - Balanced</option>
                                    <option value="senior">Seniors (55+) - Relaxed</option>
                                </select>
                            </div>
                        </div>

                        <!-- Budget -->
                        <div class="md:col-span-2">
                            <label class="block text-sm font-bold text-slate-700 mb-2">Budget</label>
                            <div class="relative">
                                <i class="fas fa-tag absolute left-3 top-3 text-slate-400"></i>
                                <select id="budget" class="w-full pl-10 pr-4 py-3 rounded-lg border border-slate-200 focus:ring-2 focus:ring-brand-accent focus:border-transparent bg-white appearance-none cursor-pointer">
                                    <option value="economy">Economy ($)</option>
                                    <option value="standard" selected>Standard ($$)</option>
                                    <option value="luxury">Luxury ($$$)</option>
                                </select>
                            </div>
                        </div>

                    </div>

                    <!-- Interests -->
                    <div class="mb-8">
                        <label class="block text-sm font-bold text-slate-700 mb-3">Interests (Select at least one)</label>
                        <div class="flex flex-wrap gap-3">
                            <label class="cursor-pointer select-none">
                                <input type="checkbox" name="interest" value="culture" checked class="peer sr-only">
                                <div class="px-4 py-2 rounded-full border border-slate-300 text-slate-600 peer-checked:bg-brand-accent peer-checked:text-white peer-checked:border-brand-accent transition hover:bg-slate-50 peer-checked:hover:bg-blue-600">
                                    <i class="fas fa-landmark mr-1"></i> Culture
                                </div>
                            </label>
                            <label class="cursor-pointer select-none">
                                <input type="checkbox" name="interest" value="history" class="peer sr-only">
                                <div class="px-4 py-2 rounded-full border border-slate-300 text-slate-600 peer-checked:bg-amber-600 peer-checked:text-white peer-checked:border-amber-600 transition hover:bg-slate-50 peer-checked:hover:bg-amber-700">
                                    <i class="fas fa-scroll mr-1"></i> History
                                </div>
                            </label>
                            <label class="cursor-pointer select-none">
                                <input type="checkbox" name="interest" value="food" checked class="peer sr-only">
                                <div class="px-4 py-2 rounded-full border border-slate-300 text-slate-600 peer-checked:bg-emerald-500 peer-checked:text-white peer-checked:border-emerald-500 transition hover:bg-slate-50 peer-checked:hover:bg-emerald-600">
                                    <i class="fas fa-utensils mr-1"></i> Food
                                </div>
                            </label>
                            <label class="cursor-pointer select-none">
                                <input type="checkbox" name="interest" value="sports" class="peer sr-only">
                                <div class="px-4 py-2 rounded-full border border-slate-300 text-slate-600 peer-checked:bg-brand-highlight peer-checked:text-white peer-checked:border-brand-highlight transition hover:bg-slate-50 peer-checked:hover:bg-rose-600">
                                    <i class="fas fa-basketball-ball mr-1"></i> Sports
                                </div>
                            </label>
                            <label class="cursor-pointer select-none">
                                <input type="checkbox" name="interest" value="nature" class="peer sr-only">
                                <div class="px-4 py-2 rounded-full border border-slate-300 text-slate-600 peer-checked:bg-teal-500 peer-checked:text-white peer-checked:border-teal-500 transition hover:bg-slate-50 peer-checked:hover:bg-teal-600">
                                    <i class="fas fa-leaf mr-1"></i> Nature
                                </div>
                            </label>
                            <label class="cursor-pointer select-none">
                                <input type="checkbox" name="interest" value="shopping" class="peer sr-only">
                                <div class="px-4 py-2 rounded-full border border-slate-300 text-slate-600 peer-checked:bg-pink-500 peer-checked:text-white peer-checked:border-pink-500 transition hover:bg-slate-50 peer-checked:hover:bg-pink-600">
                                    <i class="fas fa-shopping-bag mr-1"></i> Shopping
                                </div>
                            </label>
                            <label class="cursor-pointer select-none">
                                <input type="checkbox" name="interest" value="adventure" class="peer sr-only">
                                <div class="px-4 py-2 rounded-full border border-slate-300 text-slate-600 peer-checked:bg-orange-500 peer-checked:text-white peer-checked:border-orange-500 transition hover:bg-slate-50 peer-checked:hover:bg-orange-600">
                                    <i class="fas fa-hiking mr-1"></i> Adventure
                                </div>
                            </label>
                             <label class="cursor-pointer select-none">
                                <input type="checkbox" name="interest" value="relaxation" class="peer sr-only">
                                <div class="px-4 py-2 rounded-full border border-slate-300 text-slate-600 peer-checked:bg-cyan-500 peer-checked:text-white peer-checked:border-cyan-500 transition hover:bg-slate-50 peer-checked:hover:bg-cyan-600">
                                    <i class="fas fa-spa mr-1"></i> Relaxation
                                </div>
                            </label>
                            <label class="cursor-pointer select-none" id="nightlife-option">
                                <input type="checkbox" name="interest" value="nightlife" class="peer sr-only">
                                <div class="px-4 py-2 rounded-full border border-slate-300 text-slate-600 peer-checked:bg-indigo-500 peer-checked:text-white peer-checked:border-indigo-500 transition hover:bg-slate-50 peer-checked:hover:bg-indigo-600">
                                    <i class="fas fa-cocktail mr-1"></i> Nightlife
                                </div>
                            </label>
                            <!-- Custom Interest -->
                            <label class="cursor-pointer select-none">
                                <input type="checkbox" id="custom-interest-check" onchange="toggleCustomInterest()" class="peer sr-only">
                                <div class="px-4 py-2 rounded-full border border-slate-300 text-slate-600 peer-checked:bg-purple-500 peer-checked:text-white peer-checked:border-purple-500 transition hover:bg-slate-50 peer-checked:hover:bg-purple-600">
                                    <i class="fas fa-plus mr-1"></i> Specific Interest?
                                </div>
                            </label>
                        </div>
                        
                        <div id="custom-interest-container" class="hidden-input">
                            <input type="text" id="custom-interest-val" placeholder="Enter Interest (e.g. Anime, Architecture)" class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-slate-50">
                        </div>
                    </div>

                    <button onclick="generateItinerary()" class="w-full bg-brand-dark hover:bg-slate-800 text-white font-bold py-4 rounded-xl shadow-lg transition transform active:scale-95 flex justify-center items-center gap-2 text-lg">
                        <i class="fas fa-magic"></i> Generate My Itinerary
                    </button>
                </div>
            </div>
        </section>

        <!-- Loading View -->
        <section id="loading-view" class="hidden py-24 text-center">
            <div class="flex flex-col items-center justify-center">
                <div class="loader mb-6"></div>
                <h3 class="text-2xl font-bold text-slate-700 mb-2">Building your dream trip...</h3>
                <p class="text-slate-500" id="loading-text">Checking official ticket availability...</p>
            </div>
        </section>

        <!-- Results View -->
        <section id="results-view" class="hidden max-w-6xl mx-auto px-4 py-12">
            <div class="flex flex-col md:flex-row justify-between items-end mb-10 border-b border-slate-200 pb-6">
                <div>
                    <div class="text-sm font-bold text-brand-accent uppercase tracking-wider mb-1">Your Personal Plan</div>
                    <h2 class="text-4xl font-serif font-bold text-slate-800" id="result-title">Trip to Paris</h2>
                    <p class="text-slate-500 mt-2" id="result-subtitle">5 Days • Food & Culture Focus</p>
                </div>
                <button onclick="resetApp()" class="mt-4 md:mt-0 px-6 py-2 bg-white border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 hover:text-brand-dark transition shadow-sm text-sm font-bold">
                    <i class="fas fa-redo-alt mr-2"></i> Start Over
                </button>
            </div>
            <div id="itinerary-container" class="space-y-12"></div>
        </section>
    </main>

    <footer class="bg-white border-t border-slate-200 py-8 text-center text-slate-400 text-sm">
        <p>&copy; 2025 Ultimate Destination. Pricing and availability subject to change.</p>
    </footer>

    <script>
        // --- DATA MOCKUP ---
        const getRandom = (arr) => arr[Math.floor(Math.random() * arr.length)];
        
        const shuffle = (array) => {
            let currentIndex = array.length, randomIndex;
            while (currentIndex != 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        // --- MASSIVELY EXPANDED DATA POOL ---
        const db = {
            "new-york": {
                name: "New York City",
                teams: [{ home: "NY Knicks", venue: "MSG", league: "NBA" }, { home: "NY Rangers", venue: "MSG", league: "NHL" }, { home: "NY Yankees", venue: "Yankee Stadium", league: "MLB" }, { home: "Brooklyn Nets", venue: "Barclays Center", league: "NBA" }],
                activities: {
                    culture: [
                        { name: "The Met", cost: "$30", hours: "10am-5pm", link: "https://www.metmuseum.org/", desc: "World-class art collection." },
                        { name: "Guggenheim Museum", cost: "$25", hours: "11am-6pm", link: "https://www.guggenheim.org/", desc: "Architectural masterpiece." },
                        { name: "MoMA", cost: "$25", hours: "10:30am-5:30pm", link: "https://www.moma.org/", desc: "Modern art icons." },
                        { name: "Intrepid Museum", cost: "$33", hours: "10am-5pm", link: "https://www.intrepidmuseum.org/", desc: "Aircraft carrier & space shuttle." },
                        { name: "Whitney Museum", cost: "$25", hours: "10:30am-6pm", link: "https://whitney.org/", desc: "American modern art." },
                        { name: "Broadway Show", cost: "$100+", hours: "Evening", link: "https://www.broadway.com/", desc: "World-famous theater." },
                        { name: "Lincoln Center", cost: "Varied", hours: "Various", link: "https://www.lincolncenter.org/", desc: "Performing arts complex." },
                        { name: "The Frick Collection", cost: "$22", hours: "10am-6pm", link: "https://www.frick.org/", desc: "Old Master paintings." },
                        { name: "Morgan Library", cost: "$22", hours: "10:30am-5pm", link: "https://www.themorgan.org/", desc: "Stunning historic library." },
                        { name: "Museum of Natural History", cost: "$28", hours: "10am-5:30pm", link: "https://www.amnh.org/", desc: "Dinosaurs and dioramas." },
                        { name: "Color Factory", cost: "$38", hours: "10am-8pm", link: "https://colorfactory.co/new-york-city/", desc: "Interactive colorful exhibits." }
                    ],
                    food: [
                        { name: "Katz's Deli", cost: "$25", hours: "8am-11pm", link: "https://katzsdelicatessen.com/", desc: "Iconic pastrami sandwiches." },
                        { name: "Chelsea Market", cost: "Free Entry", hours: "7am-10pm", link: "https://www.chelseamarket.com/", desc: "Indoor food hall." },
                        { name: "Joe's Pizza", cost: "$5", hours: "10am-3am", link: "https://www.joespizzanyc.com/", desc: "Classic NY slice." },
                        { name: "Levain Bakery", cost: "$5", hours: "8am-8pm", link: "https://levainbakery.com/", desc: "Famous giant cookies." },
                        { name: "Smorgasburg", cost: "Varied", hours: "Weekends", link: "https://www.smorgasburg.com/", desc: "Open-air food market." },
                        { name: "Dominique Ansel Bakery", cost: "$10", hours: "8am-7pm", link: "https://www.dominiqueansel.com/", desc: "Home of the Cronut." },
                        { name: "Peter Luger Steakhouse", cost: "$100+", hours: "12pm-10pm", link: "https://peterluger.com/", desc: "Legendary steakhouse." },
                        { name: "Russ & Daughters", cost: "$20", hours: "8am-4pm", link: "https://www.russanddaughters.com/", desc: "Famous bagels and lox." },
                        { name: "Halal Guys", cost: "$10", hours: "10am-2am", link: "https://thehalalguys.com/", desc: "Famous chicken & rice cart." },
                        { name: "Junior's Cheesecake", cost: "$10", hours: "9am-12am", link: "https://www.juniorscheesecake.com/", desc: "NYC's best cheesecake." },
                        { name: "Eataly Flatiron", cost: "Varied", hours: "9am-11pm", link: "https://www.eataly.com/", desc: "Italian marketplace." }
                    ],
                    nature: [
                        { name: "Central Park", cost: "Free", hours: "6am-1am", link: "https://www.centralparknyc.org/", desc: "Urban oasis in Manhattan." },
                        { name: "The High Line", cost: "Free", hours: "7am-10pm", link: "https://www.thehighline.org/", desc: "Elevated park on rail line." },
                        { name: "Brooklyn Botanic Garden", cost: "$18", hours: "8am-6pm", link: "https://www.bbg.org/", desc: "Peaceful gardens." },
                        { name: "Little Island", cost: "Free", hours: "6am-1am", link: "https://littleisland.org/", desc: "Floating park on Hudson." },
                        { name: "Prospect Park", cost: "Free", hours: "6am-1am", link: "https://www.prospectpark.org/", desc: "Brooklyn's backyard." },
                        { name: "Washington Square Park", cost: "Free", hours: "24h", link: "https://www.nycgovparks.org/parks/washington-square-park", desc: "Iconic arch and fountain." },
                        { name: "The Battery", cost: "Free", hours: "6am-12am", link: "https://www.thebattery.org/", desc: "Harbor views." },
                        { name: "New York Botanical Garden", cost: "$35", hours: "10am-6pm", link: "https://www.nybg.org/", desc: "Bronx botanical treasure." }
                    ],
                    history: [
                        { name: "Statue of Liberty", cost: "$24", hours: "9am-5pm", link: "https://www.nps.gov/stli/", desc: "Symbol of freedom." },
                        { name: "9/11 Memorial", cost: "Free", hours: "9am-8pm", link: "https://www.911memorial.org/", desc: "Memorial pools." },
                        { name: "Ellis Island", cost: "$24", hours: "9am-5pm", link: "https://www.nps.gov/elis/", desc: "Immigration history." },
                        { name: "Tenement Museum", cost: "$30", hours: "10am-6pm", link: "https://www.tenement.org/", desc: "Immigrant life tours." },
                        { name: "Grand Central Terminal", cost: "Free", hours: "5am-2am", link: "https://www.grandcentralterminal.com/", desc: "Historic transit hub." },
                        { name: "Trinity Church", cost: "Free", hours: "8am-6pm", link: "https://trinitywallstreet.org/", desc: "Historic church & Hamilton's grave." },
                        { name: "Federal Hall", cost: "Free", hours: "9am-5pm", link: "https://www.nps.gov/feha/index.htm", desc: "Washington's inauguration site." },
                        { name: "St. Patrick's Cathedral", cost: "Free", hours: "6:30am-8:45pm", link: "https://saintpatrickscathedral.org/", desc: "Neo-Gothic church." }
                    ],
                    shopping: [
                        { name: "SoHo Shopping", cost: "Varied", hours: "10am-8pm", link: "https://www.sohonyc.com/", desc: "Trendy boutiques." },
                        { name: "Rockefeller Center", cost: "Varied", hours: "24h", link: "https://www.rockefellercenter.com/", desc: "Shops and plaza." },
                        { name: "Macy's Herald Square", cost: "Varied", hours: "10am-9pm", link: "https://www.macys.com/", desc: "World's largest store." },
                        { name: "Fifth Avenue", cost: "Window Shop", hours: "10am-8pm", link: "https://visit5thavenue.com/", desc: "Luxury flagship stores." },
                        { name: "Harry Potter Store", cost: "Free Entry", hours: "9am-9pm", link: "https://www.harrypotterstore.com/", desc: "Wizarding world merch." },
                        { name: "Brookfield Place", cost: "Varied", hours: "10am-8pm", link: "https://bfplny.com/", desc: "Luxury shopping & dining." },
                        { name: "Strand Bookstore", cost: "Varied", hours: "10am-8pm", link: "https://www.strandbooks.com/", desc: "18 miles of books." }
                    ],
                    adventure: [
                        { name: "The Edge", cost: "$40", hours: "10am-10pm", link: "https://www.edgenyc.com/", desc: "Highest outdoor sky deck." },
                        { name: "Helicopter Tour", cost: "$200+", hours: "Daytime", link: "https://www.zipaviation.com/", desc: "Skyline views." },
                        { name: "Summit One Vanderbilt", cost: "$42", hours: "9am-12am", link: "https://summitov.com/", desc: "Immersive glass observation." },
                        { name: "Top of the Rock", cost: "$40", hours: "9am-11pm", link: "https://www.rockefellercenter.com/attractions/top-of-the-rock-observation-deck/", desc: "Classic city views." },
                        { name: "Trapeze School", cost: "$70", hours: "Varied", link: "https://newyork.trapezeschool.com/", desc: "Flying trapeze class." },
                        { name: "Brooklyn Bridge Walk", cost: "Free", hours: "24h", link: "#", desc: "Walk across the icon." },
                        { name: "Luna Park", cost: "Free Entry", hours: "Seasonal", link: "https://lunaparknyc.com/", desc: "Coney Island amusement park." },
                        { name: "Roosevelt Island Tram", cost: "$2.90", hours: "6am-2am", link: "https://rioc.ny.gov/302/Tram", desc: "Aerial tramway ride." }
                    ],
                    relaxation: [
                         { name: "Aire Ancient Baths", cost: "$150+", hours: "9am-11pm", link: "https://beaire.com/en/aire-ancient-baths-new-york", desc: "Luxury thermal baths." },
                         { name: "Bryant Park", cost: "Free", hours: "7am-10pm", link: "https://bryantpark.org/", desc: "Relax on the lawn." },
                         { name: "Staten Island Ferry", cost: "Free", hours: "24h", link: "https://www.siferry.com/", desc: "Relaxing harbor ride." },
                         { name: "QC NY Spa", cost: "$100+", hours: "10am-10pm", link: "https://www.qcny.com/", desc: "Spa on Governors Island." },
                         { name: "The Cloisters", cost: "$30", hours: "10am-5pm", link: "https://www.metmuseum.org/visit/plan-your-visit/met-cloisters", desc: "Peaceful medieval art." }
                    ],
                    nightlife: [
                        { name: "Comedy Cellar", cost: "$25", hours: "Evening", link: "https://www.comedycellar.com/", desc: "Legendary stand-up." },
                        { name: "Times Square", cost: "Free", hours: "24h", link: "https://www.timessquarenyc.org/", desc: "Bright lights." },
                        { name: "Jazz at Lincoln Center", cost: "$40+", hours: "7pm", link: "https://www.jazz.org/", desc: "World-class jazz." },
                        { name: "Blue Note Jazz Club", cost: "$30+", hours: "8pm/10:30pm", link: "https://www.bluenotejazz.com/nyc/", desc: "Iconic jazz venue." },
                        { name: "Empire State Building", cost: "$44", hours: "Until 12am", link: "https://www.esbnyc.com/", desc: "Nighttime views." }
                    ]
                }
            },
            "paris": {
                name: "Paris",
                teams: [{ home: "PSG", venue: "Parc des Princes", league: "Ligue 1" }],
                activities: {
                    culture: [
                        { name: "Louvre Museum", cost: "€17", hours: "9am-6pm", link: "https://www.louvre.fr/en", desc: "Home of Mona Lisa." },
                        { name: "Musée d'Orsay", cost: "€16", hours: "9:30am-6pm", link: "https://www.musee-orsay.fr/en", desc: "Impressionist art." },
                        { name: "Sainte-Chapelle", cost: "€11.50", hours: "9am-5pm", link: "https://www.sainte-chapelle.fr/en/", desc: "Stunning stained glass." },
                        { name: "Opera Garnier", cost: "€14", hours: "10am-5pm", link: "https://www.operadeparis.fr/en", desc: "Phantom of the Opera setting." },
                        { name: "Centre Pompidou", cost: "€14", hours: "11am-9pm", link: "https://www.centrepompidou.fr/en/", desc: "Modern art museum." },
                        { name: "Rodin Museum", cost: "€13", hours: "10am-6:30pm", link: "https://www.musee-rodin.fr/en", desc: "The Thinker sculpture." },
                        { name: "Musée de l'Orangerie", cost: "€12.50", hours: "9am-6pm", link: "https://www.musee-orangerie.fr/", desc: "Monet's Water Lilies." },
                        { name: "Musée du Quai Branly", cost: "€12", hours: "10:30am-7pm", link: "https://www.quaibranly.fr/en/", desc: "Indigenous art." }
                    ],
                    food: [
                        { name: "Café de Flore", cost: "€15", hours: "7am-1am", link: "https://cafedeflore.fr/", desc: "Historic cafe." },
                        { name: "Berthillon", cost: "€5", hours: "10am-8pm", link: "https://berthillon.fr/", desc: "Famous ice cream." },
                        { name: "Rue Mouffetard Market", cost: "Free", hours: "Mornings", link: "https://en.parisinfo.com/", desc: "Street market." },
                        { name: "Angelina", cost: "€10", hours: "8am-7pm", link: "https://angelina-paris.fr/", desc: "Famous hot chocolate." },
                        { name: "L'As du Fallafel", cost: "€8", hours: "11am-11pm", link: "#", desc: "Best falafel in Marais." },
                        { name: "Macaron Tasting", cost: "€20", hours: "10am-7pm", link: "https://www.laduree.fr/en/", desc: "Ladurée classics." },
                        { name: "Bouillon Chartier", cost: "€20", hours: "11:30am-12am", link: "https://www.bouillon-chartier.com/", desc: "Classic French dining." },
                        { name: "Pierre Hermé", cost: "€15", hours: "10am-7pm", link: "https://www.pierreherme.com/", desc: "Luxury pastries." }
                    ],
                    history: [
                        { name: "Versailles", cost: "€20", hours: "9am-6pm", link: "https://en.chateauversailles.fr/", desc: "Royal palace." },
                        { name: "Arc de Triomphe", cost: "€13", hours: "10am-10pm", link: "https://www.paris-arc-de-triomphe.fr/en/", desc: "Panoramic views." },
                        { name: "Notre-Dame (Exterior)", cost: "Free", hours: "24h", link: "https://www.notredamedeparis.fr/", desc: "Gothic cathedral." },
                        { name: "Pantheon", cost: "€11", hours: "10am-6pm", link: "https://www.paris-pantheon.fr/en/", desc: "Mausoleum of heroes." },
                        { name: "Conciergerie", cost: "€9", hours: "9:30am-6pm", link: "https://www.paris-conciergerie.fr/en/", desc: "Marie Antoinette's prison." },
                        { name: "Les Invalides", cost: "€14", hours: "10am-6pm", link: "https://www.musee-armee.fr/", desc: "Napoleon's tomb." },
                        { name: "Pere Lachaise Cemetery", cost: "Free", hours: "8am-6pm", link: "https://pere-lachaise.com/", desc: "Famous graves." },
                        { name: "Basilica of Saint-Denis", cost: "€9", hours: "10am-5pm", link: "http://www.saint-denis-basilique.fr/en/", desc: "Royal necropolis." }
                    ],
                    nature: [
                         { name: "Jardin des Tuileries", cost: "Free", hours: "7am-9pm", link: "https://en.parisinfo.com/", desc: "Central garden." },
                         { name: "Buttes-Chaumont", cost: "Free", hours: "7am-8pm", link: "https://en.parisinfo.com/", desc: "Hillside park." },
                         { name: "Promenade Plantée", cost: "Free", hours: "8am-Sunset", link: "https://en.parisinfo.com/", desc: "High line style park." },
                         { name: "Bois de Boulogne", cost: "Free", hours: "24h", link: "https://en.parisinfo.com/", desc: "Large western park." },
                         { name: "Parc Monceau", cost: "Free", hours: "7am-8pm", link: "https://en.parisinfo.com/", desc: "Elegant park." },
                         { name: "Parc de la Villette", cost: "Free", hours: "24h", link: "https://lavillette.com/", desc: "Modern cultural park." }
                    ],
                    shopping: [
                        { name: "Galeries Lafayette", cost: "Free", hours: "10am-8pm", link: "https://haussmann.galerieslafayette.com/en/", desc: "Grand department store." },
                        { name: "Le Marais Boutiques", cost: "Varied", hours: "11am-7pm", link: "https://en.parisinfo.com/", desc: "Trendy shopping." },
                        { name: "Shakespeare and Company", cost: "Free", hours: "10am-8pm", link: "https://shakespeareandcompany.com/", desc: "English bookstore." },
                        { name: "Champs-Élysées", cost: "Window Shop", hours: "10am-10pm", link: "https://en.parisinfo.com/", desc: "Famous avenue." },
                        { name: "Le Bon Marché", cost: "Varied", hours: "10am-8pm", link: "https://www.lebonmarche.com/", desc: "Luxury department store." },
                        { name: "Passage des Panoramas", cost: "Free", hours: "6am-12am", link: "https://en.parisinfo.com/", desc: "Covered arcade." }
                    ],
                    adventure: [
                        { name: "Catacombs", cost: "€29", hours: "10am-8pm", link: "https://www.catacombes.paris.fr/en", desc: "Underground tunnels." },
                        { name: "Eiffel Tower Summit", cost: "€28", hours: "9am-11pm", link: "https://www.toureiffel.paris/en", desc: "Top floor views." },
                        { name: "Ballon de Paris", cost: "€15", hours: "9am-9pm", link: "https://www.ballondeparis.com/", desc: "Hot air balloon ride." },
                        { name: "Vintage 2CV Tour", cost: "€100+", hours: "Day/Night", link: "https://www.2cvparistour.com/", desc: "Classic car ride." },
                        { name: "Disneyland Paris", cost: "€60+", hours: "9:30am-9pm", link: "https://www.disneylandparis.com/", desc: "Magical theme park." }
                    ],
                    relaxation: [
                        { name: "Jardin du Luxembourg", cost: "Free", hours: "Dawn-Dusk", link: "https://en.parisinfo.com/", desc: "Peaceful gardens." },
                        { name: "Seine River Cruise", cost: "€15", hours: "Every hour", link: "https://www.bateaux-mouches.fr/en", desc: "Relaxing boat ride." },
                        { name: "Canal Saint-Martin", cost: "Free", hours: "24h", link: "#", desc: "Picnic by the canal." },
                        { name: "Mosque of Paris Hammam", cost: "€20+", hours: "10am-9pm", link: "https://www.la-mosquee-de-paris.org/", desc: "Traditional steam bath." }
                    ],
                    nightlife: [
                        { name: "Moulin Rouge", cost: "€100+", hours: "9pm", link: "https://www.moulinrouge.fr/en/", desc: "Cabaret show." },
                        { name: "Seine Picnic", cost: "Free", hours: "Evening", link: "https://en.parisinfo.com/", desc: "Sunset by the river." },
                        { name: "Le Caveau de la Huchette", cost: "€15", hours: "9pm-2am", link: "http://www.caveaudelahuchette.fr/", desc: "Historic jazz club." },
                        { name: "Montmartre Steps", cost: "Free", hours: "Evening", link: "#", desc: "City lights view." }
                    ]
                }
            },
            "istanbul": {
                name: "Istanbul",
                teams: [{ home: "Galatasaray", venue: "Nef Stadium", league: "Süper Lig" }],
                activities: {
                    culture: [
                        { name: "Hagia Sophia", cost: "Free", hours: "24h", link: "https://ayasofyacamii.gov.tr/", desc: "Iconic Byzantine mosque." },
                        { name: "Blue Mosque", cost: "Free", hours: "9am-6pm", link: "http://www.sultanahmetcamii.org/", desc: "Famous for blue tiles." },
                        { name: "Topkapi Palace", cost: "₺500", hours: "9am-6pm", link: "https://www.millisaraylar.gov.tr/", desc: "Ottoman sultans' home." }
                    ],
                    history: [
                        { name: "Basilica Cistern", cost: "₺350", hours: "9am-7pm", link: "https://www.yerebatan.com/en", desc: "Ancient underground water system." },
                        { name: "Galata Tower", cost: "₺350", hours: "8:30am-10pm", link: "https://muze.gov.tr/", desc: "Panoramic city views." }
                    ],
                    shopping: [
                        { name: "Grand Bazaar", cost: "Free", hours: "10am-6pm", link: "https://www.kapalicarsi.com.tr/", desc: "One of the oldest covered markets." },
                        { name: "Spice Bazaar", cost: "Free", hours: "8am-7pm", link: "http://www.misircarsisi.org.tr/", desc: "Exotic spices and sweets." }
                    ],
                    food: [
                        { name: "Hafiz Mustafa", cost: "Varied", hours: "24h", link: "https://www.hafizmustafa.com/", desc: "Famous Turkish delight." },
                        { name: "Street Simit", cost: "Cheap", hours: "Morning", link: "#", desc: "Traditional sesame bagel." }
                    ],
                    adventure: [
                        { name: "Bosphorus Cruise", cost: "₺150", hours: "Every hour", link: "https://sehirhatlari.istanbul/en", desc: "Boat between Europe and Asia." }
                    ]
                }
            },
            "singapore": {
                name: "Singapore",
                teams: [],
                activities: {
                    nature: [
                        { name: "Gardens by the Bay", cost: "Free (OCBC $)", hours: "5am-2am", link: "https://www.gardensbythebay.com.sg/", desc: "Futuristic supertrees." },
                        { name: "Singapore Botanic Gardens", cost: "Free", hours: "5am-12am", link: "https://www.nparks.gov.sg/sbg", desc: "UNESCO World Heritage site." }
                    ],
                    culture: [
                        { name: "National Museum", cost: "$15", hours: "10am-7pm", link: "https://www.nhb.gov.sg/nationalmuseum", desc: "History of Singapore." },
                        { name: "Chinatown Heritage Centre", cost: "$18", hours: "9am-8pm", link: "https://chinatownheritagecentre.com.sg/", desc: "Restored shophouses." }
                    ],
                    adventure: [
                        { name: "Universal Studios", cost: "$82", hours: "11am-6pm", link: "https://www.rwsentosa.com/", desc: "Movie theme park." },
                        { name: "Night Safari", cost: "$55", hours: "7:15pm-12am", link: "https://www.mandai.com/en/night-safari.html", desc: "Nocturnal zoo." }
                    ],
                    food: [
                        { name: "Maxwell Food Centre", cost: "Cheap", hours: "8am-2am", link: "#", desc: "Famous chicken rice." },
                        { name: "Satay by the Bay", cost: "Varied", hours: "11am-10pm", link: "https://sataybythebay.com.sg/", desc: "Open-air dining." }
                    ],
                    shopping: [
                        { name: "Orchard Road", cost: "Varied", hours: "10am-10pm", link: "#", desc: "Famous shopping belt." },
                        { name: "Marina Bay Sands Shoppes", cost: "Varied", hours: "10am-11pm", link: "https://www.marinabaysands.com/shopping.html", desc: "Luxury mall with canal." }
                    ]
                }
            },
            "las-vegas": {
                name: "Las Vegas",
                teams: [{ home: "Raiders", venue: "Allegiant Stadium", league: "NFL" }, { home: "Golden Knights", venue: "T-Mobile Arena", league: "NHL" }],
                activities: {
                    culture: [
                        { name: "Cirque du Soleil", cost: "$100+", hours: "7pm/9pm", link: "https://www.cirquedusoleil.com/las-vegas", desc: "World-famous acrobatics." },
                        { name: "Neon Museum", cost: "$20", hours: "2pm-10pm", link: "https://www.neonmuseum.org/", desc: "Vintage sign graveyard." },
                        { name: "Mob Museum", cost: "$30", hours: "9am-9pm", link: "https://themobmuseum.org/", desc: "Organized crime history." },
                        { name: "Titanic Exhibition", cost: "$35", hours: "11am-6pm", link: "https://luxor.mgmresorts.com/", desc: "Artifact exhibition." },
                        { name: "Bellagio Gallery", cost: "$18", hours: "10am-6pm", link: "https://bellagio.mgmresorts.com/", desc: "Fine art gallery." },
                        { name: "Madame Tussauds", cost: "$35", hours: "10am-8pm", link: "https://www.madametussauds.com/las-vegas/", desc: "Wax figures." }
                    ],
                    food: [
                        { name: "Bacchanal Buffet", cost: "$80", hours: "9am-10pm", link: "https://www.caesars.com/caesars-palace/restaurants/bacchanal-buffet", desc: "Massive luxury buffet." },
                        { name: "Eataly Las Vegas", cost: "Varied", hours: "11am-11pm", link: "https://www.eataly.com/us_en/stores/las-vegas/", desc: "Italian marketplace." },
                        { name: "Gordon Ramsay Burger", cost: "$25", hours: "11am-11pm", link: "https://www.gordonramsayrestaurants.com/", desc: "Gourmet burgers." },
                        { name: "Hell's Kitchen", cost: "$70", hours: "11am-11pm", link: "https://www.gordonramsayrestaurants.com/hells-kitchen-caesars-palace/", desc: "Famous TV restaurant." },
                        { name: "Peppermill Restaurant", cost: "$20", hours: "24h", link: "https://www.peppermilllasvegas.com/", desc: "Neon-lit classic diner." },
                        { name: "Din Tai Fung", cost: "$40", hours: "11am-10pm", link: "https://aria.mgmresorts.com/", desc: "Famous dumplings." },
                        { name: "Hash House A Go Go", cost: "$25", hours: "7:30am-2pm", link: "https://hashhouseagogo.com/", desc: "Twisted farm food." }
                    ],
                    nature: [
                        { name: "Red Rock Canyon", cost: "$15", hours: "8am-5pm", link: "https://www.redrockcanyonlv.org/", desc: "Desert hiking nearby." },
                        { name: "Valley of Fire", cost: "$10", hours: "Sunrise-Sunset", link: "http://parks.nv.gov/parks/valley-of-fire", desc: "Red sandstone formations." },
                        { name: "Springs Preserve", cost: "$10", hours: "9am-4pm", link: "https://www.springspreserve.org/", desc: "Botanical gardens." },
                        { name: "Hoover Dam", cost: "$30", hours: "5am-9pm", link: "https://www.usbr.gov/lc/hooverdam/", desc: "Engineering marvel." }
                    ],
                    adventure: [
                        { name: "High Roller Wheel", cost: "$30", hours: "12pm-12am", link: "https://www.caesars.com/linq/high-roller", desc: "Giant observation wheel." },
                        { name: "SlotZilla Zip Line", cost: "$40+", hours: "1pm-1am", link: "https://vegasexperience.com/slotzilla-zip-line/", desc: "Fly over Fremont St." },
                        { name: "Big Apple Coaster", cost: "$19", hours: "11am-11pm", link: "https://newyorknewyork.mgmresorts.com/", desc: "Roller coaster on the strip." },
                        { name: "Stratosphere Jump", cost: "$130", hours: "10am-1am", link: "https://thestrat.com/attractions", desc: "Jump off a tower." },
                        { name: "Omega Mart", cost: "$55", hours: "10am-10pm", link: "https://meowwolf.com/visit/las-vegas", desc: "Immersive art experience." },
                        { name: "FlyOver Las Vegas", cost: "$36", hours: "9am-9pm", link: "https://www.flyoverlasvegas.com/", desc: "Flight ride simulation." }
                    ],
                    relaxation: [
                        { name: "Bellagio Fountains", cost: "Free", hours: "3pm-12am", link: "https://bellagio.mgmresorts.com/", desc: "Water show set to music." },
                        { name: "Mandalay Bay Beach", cost: "Entry varies", hours: "9am-6pm", link: "https://mandalaybay.mgmresorts.com/", desc: "Wave pool and beach." },
                        { name: "Shark Reef Aquarium", cost: "$29", hours: "10am-8pm", link: "https://mandalaybay.mgmresorts.com/", desc: "Walk through shark tunnel." },
                        { name: "Mirage Volcano", cost: "Free", hours: "Hourly Nightly", link: "https://mirage.mgmresorts.com/", desc: "Fire show." },
                        { name: "The Venetian Canals", cost: "Free to view", hours: "10am-11pm", link: "https://www.venetianlasvegas.com/", desc: "Indoor gondola rides." }
                    ],
                    shopping: [
                         { name: "Forum Shops", cost: "Varied", hours: "10am-9pm", link: "https://www.simon.com/mall/the-forum-shops-at-caesars-palace", desc: "High-end mall." },
                         { name: "Premium Outlets", cost: "Varied", hours: "10am-8pm", link: "https://www.premiumoutlets.com/", desc: "Discount shopping." },
                         { name: "Grand Canal Shoppes", cost: "Window Shop", hours: "10am-9pm", link: "https://www.grandcanalshoppes.com/", desc: "Venice themed mall." },
                         { name: "Container Park", cost: "Varied", hours: "11am-11pm", link: "https://downtowncontainerpark.com/", desc: "Open-air shopping." },
                         { name: "M&M's World", cost: "Free Entry", hours: "9am-12am", link: "https://www.mms.com/en-us/mms-world-store-locations", desc: "Chocolate paradise." }
                    ],
                    nightlife: [
                        { name: "Fremont Street", cost: "Free", hours: "24h", link: "https://vegasexperience.com/", desc: "Light shows and performers." },
                        { name: "The Sphere", cost: "$90+", hours: "Shows daily", link: "https://www.thespherevegas.com/", desc: "Immersive entertainment." },
                        { name: "Eiffel Tower Experience", cost: "$25", hours: "5pm-12am", link: "https://www.caesars.com/paris-las-vegas/things-to-do/eiffel-tower", desc: "Nighttime views." }
                    ]
                }
            },
            "honolulu": {
                name: "Honolulu",
                teams: [],
                activities: {
                    culture: [
                        { name: "Pearl Harbor", cost: "Free", hours: "7am-5pm", link: "https://www.nps.gov/valr/index.htm", desc: "Historic memorial site." },
                        { name: "Iolani Palace", cost: "$25", hours: "9am-4pm", link: "https://www.iolanipalace.org/", desc: "Royal residence." },
                        { name: "Bishop Museum", cost: "$25", hours: "9am-5pm", link: "https://www.bishopmuseum.org/", desc: "Hawaiian history." },
                        { name: "Polynesian Cultural Ctr", cost: "$70", hours: "12pm-9pm", link: "https://www.polynesia.com/", desc: "Living museum." },
                        { name: "Pearl Harbor Aviation", cost: "$35", hours: "9am-5pm", link: "https://www.pearlharboraviationmuseum.org/", desc: "Aviation history." },
                        { name: "Shangri La", cost: "$25", hours: "Tours Only", link: "https://www.shangrilahawaii.org/", desc: "Islamic art & design." }
                    ],
                    food: [
                        { name: "Leonard's Bakery", cost: "$5", hours: "5am-10pm", link: "https://www.leonardshawaii.com/", desc: "Famous for Malasadas." },
                        { name: "Duke's Waikiki", cost: "$30", hours: "7am-11pm", link: "https://www.dukeswaikiki.com/", desc: "Beachfront dining." },
                        { name: "Giovanni's Shrimp", cost: "$15", hours: "10am-5pm", link: "http://giovannisshrimptruck.com/", desc: "Famous shrimp truck." },
                        { name: "Matsumoto Shave Ice", cost: "$5", hours: "9am-6pm", link: "https://matsumotoshaveice.com/", desc: "Iconic North Shore treat." },
                        { name: "Helena's Hawaiian Food", cost: "$20", hours: "10am-7:30pm", link: "https://www.helenashawaiianfood.com/", desc: "Authentic local dishes." },
                        { name: "Marukame Udon", cost: "$10", hours: "10am-10pm", link: "https://www.marugameudon.com/", desc: "Fresh udon noodles." }
                    ],
                    nature: [
                        { name: "Diamond Head", cost: "$5", hours: "6am-6pm", link: "https://dlnr.hawaii.gov/dsp/parks/oahu/diamond-head-state-monument/", desc: "Volcanic crater hike." },
                        { name: "Manoa Falls", cost: "Free", hours: "Sunrise-Sunset", link: "https://dlnr.hawaii.gov/", desc: "Rainforest waterfall hike." },
                        { name: "Hanauma Bay", cost: "$25", hours: "7am-4pm", link: "https://www.hanaumabaystatepark.com/", desc: "Snorkeling preserve." },
                        { name: "Kualoa Ranch", cost: "$50", hours: "8am-5:30pm", link: "https://www.kualoa.com/", desc: "Jurassic Park filming site." },
                        { name: "Waimea Valley", cost: "$20", hours: "9am-4pm", link: "https://www.waimeavalley.net/", desc: "Botanical garden & swim." }
                    ],
                    relaxation: [
                        { name: "Waikiki Beach", cost: "Free", hours: "24h", link: "https://www.gohawaii.com/", desc: "Iconic surfing beach." },
                        { name: "Lanikai Beach", cost: "Free", hours: "Daytime", link: "https://www.gohawaii.com/", desc: "Soft sand and clear water." },
                        { name: "Ala Moana Beach Park", cost: "Free", hours: "4am-10pm", link: "#", desc: "Local favorite park." }
                    ],
                    shopping: [
                        { name: "Ala Moana Center", cost: "Varied", hours: "10am-8pm", link: "https://www.alamoanacenter.com/", desc: "Largest open-air mall." },
                        { name: "International Market", cost: "Varied", hours: "10am-10pm", link: "https://shopinternationalmarketplace.com/", desc: "Shopping in Waikiki." },
                        { name: "Royal Hawaiian Center", cost: "Varied", hours: "10am-10pm", link: "https://www.royalhawaiiancenter.com/", desc: "Upscale shops." }
                    ],
                    adventure: [
                        { name: "Surf Lessons", cost: "$100", hours: "Morning", link: "https://www.waikikibeachservices.com/", desc: "Learn to surf." },
                        { name: "Parasailing", cost: "$90", hours: "9am-5pm", link: "https://h2osportshawaii.com/", desc: "Fly over the ocean." },
                        { name: "Shark Cage Dive", cost: "$120", hours: "Morning", link: "https://sharktourshawaii.com/", desc: "Swim with sharks safely." },
                        { name: "North Shore Drive", cost: "Free", hours: "Daytime", link: "#", desc: "Scenic coastal drive." },
                        { name: "Dole Plantation", cost: "Free Entry", hours: "9:30am-5:30pm", link: "https://www.doleplantation.com/", desc: "Pineapple maze & whip." }
                    ]
                }
            },
            "london": {
                name: "London",
                teams: [{ home: "Arsenal", venue: "Emirates", league: "Premier League" }, { home: "Chelsea", venue: "Stamford Bridge", league: "PL" }],
                activities: {
                    culture: [
                        { name: "British Museum", cost: "Free", hours: "10am-5pm", link: "https://www.britishmuseum.org/", desc: "Human history." },
                        { name: "Tower of London", cost: "£33", hours: "9am-5:30pm", link: "https://www.hrp.org.uk/tower-of-london/", desc: "Crown Jewels." },
                        { name: "Tate Modern", cost: "Free", hours: "10am-6pm", link: "https://www.tate.org.uk/", desc: "Modern art." },
                        { name: "Natural History Museum", cost: "Free", hours: "10am-5:50pm", link: "https://www.nhm.ac.uk/", desc: "Dinosaurs and more." },
                        { name: "Shakespeare's Globe", cost: "£17", hours: "9am-5pm", link: "https://www.shakespearesglobe.com/", desc: "Theatre tour." },
                        { name: "V&A Museum", cost: "Free", hours: "10am-5:45pm", link: "https://www.vam.ac.uk/", desc: "Art and design." },
                        { name: "National Gallery", cost: "Free", hours: "10am-6pm", link: "https://www.nationalgallery.org.uk/", desc: "European paintings." },
                        { name: "Science Museum", cost: "Free", hours: "10am-6pm", link: "https://www.sciencemuseum.org.uk/", desc: "Interactive tech." }
                    ],
                    food: [
                        { name: "Borough Market", cost: "Free Entry", hours: "10am-5pm", link: "https://boroughmarket.org.uk/", desc: "Gourmet food market." },
                        { name: "Dishoom", cost: "£30", hours: "8am-11pm", link: "https://www.dishoom.com/", desc: "Famous Indian dining." },
                        { name: "Afternoon Tea at The Ritz", cost: "£70", hours: "11:30am-7:30pm", link: "https://www.theritzlondon.com/", desc: "Classic British tea." },
                        { name: "Camden Market", cost: "Varied", hours: "10am-6pm", link: "https://www.camdenmarket.com/", desc: "Street food & stalls." },
                        { name: "Brick Lane Curry", cost: "£15", hours: "12pm-11pm", link: "#", desc: "Famous curry mile." },
                        { name: "Sketch", cost: "£60+", hours: "9am-2am", link: "https://sketch.london/", desc: "Quirky afternoon tea." },
                        { name: "Gordon Ramsay Grill", cost: "£40", hours: "11am-11pm", link: "https://www.gordonramsayrestaurants.com/", desc: "Savoy Grill or similar." },
                        { name: "Beigel Bake", cost: "£5", hours: "24h", link: "https://bricklanebeigel.co.uk/", desc: "Famous salt beef." }
                    ],
                    nature: [
                        { name: "Hyde Park", cost: "Free", hours: "5am-12am", link: "https://www.royalparks.org.uk/", desc: "Large central park." },
                        { name: "Kew Gardens", cost: "£19.50", hours: "10am-7pm", link: "https://www.kew.org/", desc: "Royal botanical gardens." },
                        { name: "Regent's Park", cost: "Free", hours: "5am-Dusk", link: "https://www.royalparks.org.uk/", desc: "Beautiful rose gardens." },
                        { name: "Hampstead Heath", cost: "Free", hours: "24h", link: "https://www.cityoflondon.gov.uk/", desc: "Wild park with views." },
                        { name: "St James's Park", cost: "Free", hours: "5am-12am", link: "https://www.royalparks.org.uk/", desc: "Pelicans and palace views." },
                        { name: "Holland Park", cost: "Free", hours: "7:30am-Dusk", link: "https://www.rbkc.gov.uk/", desc: "Kyoto Japanese Garden." }
                    ],
                    history: [
                        { name: "Churchill War Rooms", cost: "£27", hours: "9:30am-6pm", link: "https://www.iwm.org.uk/visits/churchill-war-rooms", desc: "WWII bunkers." },
                        { name: "Westminster Abbey", cost: "£27", hours: "9:30am-3:30pm", link: "https://www.westminster-abbey.org/", desc: "Royal church." },
                        { name: "St Paul's Cathedral", cost: "£20", hours: "8:30am-4:30pm", link: "https://www.stpauls.co.uk/", desc: "Iconic dome." },
                        { name: "HMS Belfast", cost: "£25", hours: "10am-6pm", link: "https://www.iwm.org.uk/visits/hms-belfast", desc: "WWII Warship." },
                        { name: "Cutty Sark", cost: "£16", hours: "10am-5pm", link: "https://www.rmg.co.uk/cutty-sark", desc: "Historic tea clipper." }
                    ],
                    shopping: [
                        { name: "Harrods", cost: "Varied", hours: "10am-9pm", link: "https://www.harrods.com/", desc: "Luxury department store." },
                        { name: "Oxford Street", cost: "Varied", hours: "10am-9pm", link: "https://www.oxfordstreet.co.uk/", desc: "High street fashion." },
                        { name: "Liberty London", cost: "Varied", hours: "10am-8pm", link: "https://www.libertylondon.com/", desc: "Tudor-style store." },
                        { name: "Covent Garden", cost: "Varied", hours: "10am-8pm", link: "https://www.coventgarden.london/", desc: "Street performers & shops." },
                        { name: "Fortnum & Mason", cost: "Varied", hours: "10am-8pm", link: "https://www.fortnumandmason.com/", desc: "Royal grocer." },
                        { name: "Carnaby Street", cost: "Window Shop", hours: "10am-7pm", link: "https://www.carnaby.co.uk/", desc: "Fashion heritage." },
                        { name: "Spitalfields Market", cost: "Varied", hours: "10am-6pm", link: "https://www.spitalfields.co.uk/", desc: "Unique crafts & food." },
                        { name: "Hamleys", cost: "Free Entry", hours: "10am-8pm", link: "https://www.hamleys.com/", desc: "Famous toy store." }
                    ],
                    adventure: [
                        { name: "London Eye", cost: "£28", hours: "11am-6pm", link: "https://www.londoneye.com/", desc: "Giant ferris wheel." },
                        { name: "Up at The O2", cost: "£35", hours: "10am-8pm", link: "https://www.theo2.co.uk/", desc: "Climb the O2 arena." },
                        { name: "Thames Rocket", cost: "£45", hours: "10am-6pm", link: "https://www.thamesrockets.com/", desc: "Speedboat tour." },
                        { name: "Harry Potter Studio", cost: "£50", hours: "9am-10pm", link: "https://www.wbstudiotour.co.uk/", desc: "Making of Harry Potter." },
                        { name: "ArcelorMittal Orbit", cost: "£16", hours: "11am-5pm", link: "https://arcelormittalorbit.com/", desc: "Slide down tallest sculpture." },
                        { name: "The Shard View", cost: "£32", hours: "10am-10pm", link: "https://www.theviewfromtheshard.com/", desc: "Highest view in London." },
                        { name: "Platform 9 3/4", cost: "Free", hours: "8am-10pm", link: "https://www.harrypotterplatform934.com/", desc: "Photo op at King's Cross." }
                    ],
                    relaxation: [
                        { name: "Sky Garden", cost: "Free (Book)", hours: "10am-6pm", link: "https://skygarden.london/", desc: "Indoor garden view." },
                        { name: "Hampstead Ponds", cost: "£4", hours: "7am-8:30pm", link: "https://www.cityoflondon.gov.uk/", desc: "Outdoor swimming." },
                        { name: "Greenwich Park", cost: "Free", hours: "6am-Dusk", link: "https://www.royalparks.org.uk/", desc: "Hilltop city views." }
                    ],
                    nightlife: [
                        { name: "West End Theatre", cost: "£40+", hours: "7:30 PM Start", link: "https://officiallondontheatre.com/", desc: "World-class plays and musicals." },
                        { name: "Ronnie Scott's", cost: "£30+", hours: "6pm-3am", link: "https://www.ronniescotts.co.uk/", desc: "Legendary jazz club." },
                        { name: "Southbank Centre", cost: "Free", hours: "10am-11pm", link: "https://www.southbankcentre.co.uk/", desc: "Arts and riverside views." }
                    ]
                }
            },
            "tokyo": {
                name: "Tokyo",
                teams: [{ home: "Yomiuri Giants", venue: "Tokyo Dome", league: "Baseball" }],
                activities: {
                    culture: [
                        { name: "Senso-ji Temple", cost: "Free", hours: "6am-5pm", link: "https://www.senso-ji.jp/english/", desc: "Ancient Buddhist temple." },
                        { name: "teamLab Planets", cost: "¥3200", hours: "10am-8pm", link: "https://planets.teamlab.art/", desc: "Digital art museum." },
                        { name: "Meiji Shrine", cost: "Free", hours: "Sunrise-Sunset", link: "https://www.meijijingu.or.jp/en/", desc: "Shinto shrine in forest." },
                        { name: "Ghibli Museum", cost: "¥1000", hours: "10am-6pm", link: "https://www.ghibli-museum.jp/en/", desc: "Anime magic (Book ahead)." },
                        { name: "Tokyo National Museum", cost: "¥1000", hours: "9:30am-5pm", link: "https://www.tnm.jp/", desc: "Japanese art history." },
                        { name: "Mori Art Museum", cost: "¥2000", hours: "10am-10pm", link: "https://www.mori.art.museum/en/", desc: "Contemporary art view." },
                        { name: "Yayoi Kusama Museum", cost: "¥1100", hours: "11am-5:30pm", link: "https://yayoikusamamuseum.jp/", desc: "Avant-garde art." }
                    ],
                    food: [
                        { name: "Tsukiji Outer Market", cost: "Varied", hours: "5am-2pm", link: "https://www.tsukiji.or.jp/", desc: "Fresh sushi & seafood." },
                        { name: "Ichiran Ramen", cost: "¥980", hours: "24h", link: "https://en.ichiran.com/", desc: "Solo ramen booths." },
                        { name: "Harajuku Crepes", cost: "¥500", hours: "10am-8pm", link: "https://www.gotokyo.org/", desc: "Sweet street treats." },
                        { name: "Omoide Yokocho", cost: "Varied", hours: "5pm-12am", link: "http://shinjuku-omoide.com/", desc: "Yakitori alley." },
                        { name: "Kaiten Sushi", cost: "Varied", hours: "11am-10pm", link: "#", desc: "Conveyor belt sushi." },
                        { name: "Tempura Kondo", cost: "¥10000+", hours: "12pm-8pm", link: "https://www.tempura-kondo.com/", desc: "High-end tempura." },
                        { name: "Pokemon Cafe", cost: "Varied", hours: "10:30am-10pm", link: "https://www.pokemoncenter-online.com/cafe/en/", desc: "Themed dining." }
                    ],
                    shopping: [
                        { name: "Ginza Six", cost: "Varied", hours: "10:30am-8:30pm", link: "https://ginza6.tokyo/", desc: "Luxury shopping." },
                        { name: "Akihabara", cost: "Varied", hours: "10am-8pm", link: "https://akihabara-japan.com/", desc: "Electronics & Anime." },
                        { name: "Shibuya Parco", cost: "Varied", hours: "11am-9pm", link: "https://shibuya.parco.jp/", desc: "Nintendo & Pokemon stores." },
                        { name: "Takeshita Street", cost: "Varied", hours: "10am-7pm", link: "#", desc: "Kawaii fashion." },
                        { name: "Don Quijote", cost: "Varied", hours: "24h", link: "https://www.donki.com/en/", desc: "Everything store." },
                        { name: "Omotesando Hills", cost: "Varied", hours: "11am-9pm", link: "https://www.omotesandohills.com/en/", desc: "Architecture & shops." },
                        { name: "Nakano Broadway", cost: "Varied", hours: "12pm-8pm", link: "https://nbw.jp/en/", desc: "Retro anime goods." }
                    ],
                    adventure: [
                        { name: "Tokyo Skytree", cost: "¥2100", hours: "10am-9pm", link: "https://www.tokyo-skytree.jp/en/", desc: "Tallest tower views." },
                        { name: "Go-Kart Tour", cost: "¥10000", hours: "Day/Night", link: "https://kart.st/", desc: "Drive on streets in costume." },
                        { name: "Tokyo DisneySea", cost: "¥8400", hours: "9am-9pm", link: "https://www.tokyodisneyresort.jp/en/", desc: "Unique theme park." },
                        { name: "Shibuya Crossing", cost: "Free", hours: "24h", link: "#", desc: "Busiest pedestrian crossing." },
                        { name: "Joypolis", cost: "¥4500", hours: "10am-8pm", link: "https://tokyo-joypolis.com/language/english/", desc: "Indoor SEGA park." },
                        { name: "Odaiba Gundam", cost: "Free", hours: "24h", link: "https://www.unicorn-gundam-statue.jp/en/", desc: "Giant robot statue." }
                    ],
                    nature: [
                        { name: "Shinjuku Gyoen", cost: "¥500", hours: "9am-4pm", link: "https://fng.or.jp/shinjuku/en/", desc: "Beautiful city garden." },
                        { name: "Yoyogi Park", cost: "Free", hours: "24h", link: "https://www.tokyo-park.or.jp/", desc: "Relaxing green space." },
                        { name: "Ueno Park", cost: "Free", hours: "5am-11pm", link: "https://www.kensetsu.metro.tokyo.lg.jp/jimusho/toubuk/ueno/en_index.html", desc: "Museums and zoo." },
                        { name: "Imperial Palace East Gardens", cost: "Free", hours: "9am-4pm", link: "https://www.kunaicho.go.jp/e-event/higashigyoen02.html", desc: "Historic ruins." },
                        { name: "Ueno Zoo", cost: "¥600", hours: "9:30am-5pm", link: "https://www.tokyo-zoo.net/english/ueno/", desc: "Giant pandas." }
                    ],
                    relaxation: [
                        { name: "Thermae-Yu", cost: "¥2500", hours: "24h", link: "https://thermae-yu.jp/", desc: "Shinjuku spa." },
                        { name: "Odaiba Beach", cost: "Free", hours: "24h", link: "#", desc: "Bay views." }
                    ],
                    nightlife: [
                        { name: "Golden Gai", cost: "¥1000 Cover", hours: "8:00 PM - 4:00 AM", link: "https://www.gotokyo.org/en/spot/52/index.html", desc: "Narrow alleys with over 200 tiny bars." },
                        { name: "Roppongi Hills", cost: "Varied", hours: "Evening", link: "https://www.roppongihills.com/en/", desc: "City views and bars." },
                        { name: "Robot Restaurant", cost: "¥8000", hours: "Shows Daily", link: "https://www.shinjuku-robot.com/", desc: "High energy show." }
                    ]
                }
            },
            "rome": {
                name: "Rome",
                teams: [{ home: "AS Roma", venue: "Stadio Olimpico", league: "Serie A" }],
                activities: {
                    culture: [
                        { name: "Colosseum", cost: "€16", hours: "8:30am-7pm", link: "https://parcocolosseo.it/en/", desc: "Ancient gladiator arena." },
                        { name: "Vatican Museums", cost: "€17", hours: "9am-6pm", link: "https://m.museivaticani.va/", desc: "Sistine Chapel." },
                        { name: "Pantheon", cost: "€5", hours: "9am-7pm", link: "https://www.pantheonroma.com/", desc: "Ancient temple." },
                        { name: "Trevi Fountain", cost: "Free", hours: "24h", link: "https://www.turismoroma.it/", desc: "Baroque masterpiece." },
                        { name: "Borghese Gallery", cost: "€13", hours: "9am-7pm", link: "https://galleriaborghese.beniculturali.it/en/", desc: "Renaissance art." },
                        { name: "St. Peter's Basilica", cost: "Free", hours: "7am-7pm", link: "https://www.vatican.va/", desc: "Largest church." },
                        { name: "Capitoline Museums", cost: "€15", hours: "9:30am-7:30pm", link: "http://www.museicapitolini.org/en", desc: "Ancient statues." }
                    ],
                    food: [
                        { name: "Mercato Centrale", cost: "Varied", hours: "8am-12am", link: "https://www.mercatocentrale.com/rome/", desc: "Food hall at station." },
                        { name: "Giolitti Gelato", cost: "€4", hours: "7am-1am", link: "https://www.giolitti.it/", desc: "Historic gelato." },
                        { name: "Bonci Pizzarium", cost: "€10", hours: "11am-9pm", link: "https://www.bonci.it/", desc: "Famous pizza al taglio." },
                        { name: "Da Enzo al 29", cost: "€20", hours: "12pm-11pm", link: "https://www.daenzoal29.com/", desc: "Classic Roman trattoria." },
                        { name: "Tiramisu Pompi", cost: "€4", hours: "10am-11pm", link: "https://barpompi.it/", desc: "King of Tiramisu." },
                        { name: "Roscioli", cost: "€25", hours: "12:30pm-11:30pm", link: "https://www.salumeriaroscioli.com/", desc: "Famous carbonara." }
                    ],
                    history: [
                        { name: "Roman Forum", cost: "Inc. w/ Colosseum", hours: "8:30am-7pm", link: "https://parcocolosseo.it/", desc: "Heart of ancient Rome." },
                        { name: "Castel Sant'Angelo", cost: "€15", hours: "9am-7:30pm", link: "http://castelsantangelo.beniculturali.it/", desc: "Mausoleum fortress." },
                        { name: "Spanish Steps", cost: "Free", hours: "24h", link: "https://www.turismoroma.it/", desc: "Famous stairway." },
                        { name: "Capuchin Crypt", cost: "€8.50", hours: "9am-7pm", link: "http://www.cappucciniviaveneto.it/", desc: "Bone chapel." },
                        { name: "Baths of Caracalla", cost: "€8", hours: "9am-6:30pm", link: "https://www.coopculture.it/", desc: "Ancient spa ruins." }
                    ],
                    adventure: [
                         { name: "Vespa Tour", cost: "€100", hours: "Varied", link: "https://www.viator.com/", desc: "Ride like a local." },
                         { name: "Catacombs of Callixtus", cost: "€8", hours: "9am-5pm", link: "https://www.catacombe.roma.it/", desc: "Underground burial site." },
                         { name: "Villa d'Este", cost: "€12", hours: "8:30am-6pm", link: "https://villae.cultura.gov.it/", desc: "Day trip to Tivoli gardens." },
                         { name: "Explora Children's Museum", cost: "€9", hours: "10am-5pm", link: "https://www.mdbr.it/en/", desc: "Hands-on fun." }
                    ],
                    relaxation: [
                        { name: "Villa Borghese Gardens", cost: "Free", hours: "Dawn-Dusk", link: "https://sovraintendenzaroma.it/", desc: "Central park." },
                        { name: "Piazza Navona", cost: "Free", hours: "24h", link: "#", desc: "Fountains and cafes." },
                        { name: "Orange Garden", cost: "Free", hours: "7am-Sunset", link: "#", desc: "Best sunset view." }
                    ],
                    shopping: [
                        { name: "Via del Corso", cost: "Varied", hours: "10am-8pm", link: "#", desc: "Main shopping street." },
                        { name: "Via Condotti", cost: "Window Shop", hours: "10am-7:30pm", link: "#", desc: "Designer boutiques." }
                    ],
                    nightlife: [
                        { name: "Trastevere", cost: "Free", hours: "Evening", link: "#", desc: "Lively neighborhood." },
                        { name: "Campo de' Fiori", cost: "Free", hours: "Evening", link: "#", desc: "Nightly atmosphere." }
                    ]
                }
            },
            "barcelona": {
                name: "Barcelona",
                teams: [{ home: "FC Barcelona", venue: "Camp Nou", league: "La Liga" }],
                activities: {
                    culture: [
                        { name: "Sagrada Familia", cost: "€26", hours: "9am-6pm", link: "https://sagradafamilia.org/", desc: "Gaudi's masterpiece." },
                        { name: "Park Guell", cost: "€10", hours: "9:30am-7:30pm", link: "https://parkguell.barcelona/", desc: "Mosaic park." },
                        { name: "Casa Batllo", cost: "€35", hours: "9am-8pm", link: "https://www.casabatllo.es/", desc: "Modernist architecture." },
                        { name: "Picasso Museum", cost: "€12", hours: "10am-7pm", link: "http://www.museupicasso.bcn.cat/en", desc: "Artist's early works." },
                        { name: "Casa Mila (La Pedrera)", cost: "€25", hours: "9am-8pm", link: "https://www.lapedrera.com/", desc: "Gaudi rooftop." },
                        { name: "Moco Museum", cost: "€17", hours: "10am-8pm", link: "https://mocomuseum.com/", desc: "Modern art." }
                    ],
                    food: [
                        { name: "La Boqueria", cost: "Free Entry", hours: "8am-8:30pm", link: "http://www.boqueria.barcelona/", desc: "Famous food market." },
                        { name: "El Xampanyet", cost: "€15", hours: "12pm-11pm", link: "https://www.elxampanyet.es/", desc: "Tapas & sparkling wine." },
                        { name: "Churrería Laietana", cost: "€5", hours: "7am-1pm", link: "#", desc: "Best churros." },
                        { name: "Tickets Bar", cost: "€50", hours: "7pm-11pm", link: "https://elbarri.com/", desc: "Avant-garde tapas." },
                        { name: "7 Portes", cost: "€30", hours: "1pm-1am", link: "https://7portes.com/", desc: "Historic paella." },
                        { name: "Cervecería Catalana", cost: "€20", hours: "9am-1am", link: "#", desc: "Classic tapas." }
                    ],
                    nature: [
                        { name: "Barceloneta Beach", cost: "Free", hours: "24h", link: "https://www.barcelona.cat/", desc: "City beach." },
                        { name: "Ciutadella Park", cost: "Free", hours: "10am-10pm", link: "https://www.barcelona.cat/", desc: "Green park with lake." },
                        { name: "Labyrinth Park", cost: "€2", hours: "10am-7pm", link: "#", desc: "Hedge maze." }
                    ],
                    history: [
                        { name: "Gothic Quarter Walk", cost: "Free", hours: "24h", link: "#", desc: "Medieval streets." },
                        { name: "Barcelona Cathedral", cost: "€9", hours: "10am-6pm", link: "https://catedralbcn.org/", desc: "Gothic church." },
                        { name: "Santa Maria del Mar", cost: "Free", hours: "9am-8:30pm", link: "http://www.santamariadelmarbarcelona.org/", desc: "Sea cathedral." }
                    ],
                    adventure: [
                        { name: "Montjuic Cable Car", cost: "€13.50", hours: "10am-6pm", link: "https://www.telefericdemontjuic.cat/", desc: "Aerial city views." },
                        { name: "Tibidabo Amusement Park", cost: "€35", hours: "11am-9pm", link: "https://www.tibidabo.cat/", desc: "Retro theme park with views." },
                        { name: "Camp Nou Experience", cost: "€28", hours: "10am-6pm", link: "https://www.fcbarcelona.com/", desc: "Stadium tour." },
                        { name: "Aquarium Barcelona", cost: "€24", hours: "10am-8pm", link: "https://www.aquariumbcn.com/", desc: "Ocean tunnel." },
                        { name: "CosmoCaixa", cost: "€6", hours: "10am-8pm", link: "https://cosmocaixa.org/", desc: "Science museum." }
                    ],
                    relaxation: [
                        { name: "Magic Fountain", cost: "Free", hours: "Evening", link: "https://www.barcelona.cat/", desc: "Light and water show." },
                        { name: "Aire Ancient Baths", cost: "€50+", hours: "9am-11pm", link: "https://beaire.com/", desc: "Relaxing thermal pools." }
                    ],
                    shopping: [
                        { name: "Passeig de Gràcia", cost: "Varied", hours: "10am-9pm", link: "#", desc: "Luxury shopping." },
                        { name: "El Corte Inglés", cost: "Varied", hours: "9:30am-9:30pm", link: "https://www.elcorteingles.es/", desc: "Department store." }
                    ]
                }
            },
            "amsterdam": {
                name: "Amsterdam",
                teams: [{ home: "Ajax", venue: "Johan Cruijff Arena", league: "Eredivisie" }],
                activities: {
                    culture: [
                         { name: "Rijksmuseum", cost: "€22.50", hours: "9am-5pm", link: "https://www.rijksmuseum.nl/", desc: "Dutch Golden Age art." },
                         { name: "Van Gogh Museum", cost: "€20", hours: "9am-6pm", link: "https://www.vangoghmuseum.nl/", desc: "Van Gogh's works." },
                         { name: "Anne Frank House", cost: "€16", hours: "9am-10pm", link: "https://www.annefrank.org/", desc: "Historic hiding place." },
                         { name: "NEMO Science Museum", cost: "€17.50", hours: "10am-5:30pm", link: "https://www.nemosciencemuseum.nl/", desc: "Interactive science." },
                         { name: "Moco Museum", cost: "€19.50", hours: "9am-7pm", link: "https://mocomuseum.com/", desc: "Banksy & modern art." }
                    ],
                    food: [
                        { name: "Foodhallen", cost: "Varied", hours: "12pm-11pm", link: "https://foodhallen.nl/", desc: "Indoor food market." },
                        { name: "Pancake Bakery", cost: "€15", hours: "9am-9pm", link: "https://pancake.nl/", desc: "Traditional Dutch pancakes." },
                        { name: "Albert Cuyp Market", cost: "Free", hours: "9am-5pm", link: "https://albertcuyp-markt.amsterdam/", desc: "Street market stroopwafels." },
                        { name: "Winkel 43", cost: "€5", hours: "8am-1am", link: "https://winkel43.nl/", desc: "Famous apple pie." },
                        { name: "FEBO", cost: "€3", hours: "11am-3am", link: "https://www.febo.nl/", desc: "Automated snack wall." }
                    ],
                    adventure: [
                        { name: "Canal Cruise", cost: "€15", hours: "10am-9pm", link: "https://www.stromma.com/", desc: "Boat tour." },
                        { name: "A'DAM Lookout", cost: "€16", hours: "10am-10pm", link: "https://www.adamlookout.com/", desc: "Swing over the edge." },
                        { name: "Heineken Experience", cost: "€21", hours: "10:30am-7:30pm", link: "https://www.heinekenexperience.com/", desc: "Brewery tour (18+)." },
                        { name: "Canal Bike", cost: "€10", hours: "10am-6pm", link: "https://www.stromma.com/", desc: "Paddle boat." },
                        { name: "Artis Zoo", cost: "€25", hours: "9am-6pm", link: "https://www.artis.nl/en/", desc: "Oldest zoo in Holland." }
                    ],
                    history: [
                        { name: "Jordaan District", cost: "Free", hours: "24h", link: "#", desc: "Historic neighborhood." },
                        { name: "Royal Palace", cost: "€12.50", hours: "10am-5pm", link: "https://www.paleisamsterdam.nl/", desc: "King's palace." },
                        { name: "Oude Kerk", cost: "€12", hours: "10am-6pm", link: "https://oudekerk.nl/", desc: "Oldest building." }
                    ],
                    nature: [
                        { name: "Vondelpark", cost: "Free", hours: "24h", link: "#", desc: "City park." },
                        { name: "Hortus Botanicus", cost: "€12", hours: "10am-5pm", link: "https://www.dehortus.nl/", desc: "Botanical garden." }
                    ],
                    shopping: [
                        { name: "Nine Streets", cost: "Varied", hours: "10am-6pm", link: "https://de9straatjes.nl/en/", desc: "Boutique shopping." },
                        { name: "De Bijenkorf", cost: "Varied", hours: "10am-8pm", link: "https://www.debijenkorf.nl/", desc: "Luxury department store." }
                    ]
                }
            },
            "sydney": {
                name: "Sydney",
                teams: [{ home: "Sydney Swans", venue: "SCG", league: "AFL" }],
                activities: {
                    culture: [
                         { name: "Opera House", cost: "Varied", hours: "9am-5pm", link: "https://www.sydneyoperahouse.com/", desc: "Iconic architecture." },
                         { name: "Art Gallery NSW", cost: "Free", hours: "10am-5pm", link: "https://www.artgallery.nsw.gov.au/", desc: "Australian art." },
                         { name: "Australian Museum", cost: "Free", hours: "10am-5pm", link: "https://australian.museum/", desc: "Natural history." }
                    ],
                    nature: [
                        { name: "Bondi Beach", cost: "Free", hours: "24h", link: "https://www.bondivillage.com/", desc: "Famous surf beach." },
                        { name: "Royal Botanic Garden", cost: "Free", hours: "7am-Sunset", link: "https://www.rbgsyd.nsw.gov.au/", desc: "Harbour views." },
                        { name: "Taronga Zoo", cost: "$49", hours: "9:30am-5pm", link: "https://taronga.org.au/sydney-zoo", desc: "Zoo with a view." },
                        { name: "Coogee Walk", cost: "Free", hours: "Daytime", link: "#", desc: "Coastal cliff walk." },
                        { name: "Blue Mountains", cost: "Train Fare", hours: "Day Trip", link: "https://www.bluemountains.org.au/", desc: "Scenic wilderness." }
                    ],
                    adventure: [
                        { name: "Harbour Bridge Climb", cost: "$300+", hours: "Dawn-Dusk", link: "https://www.bridgeclimb.com/", desc: "Climb the arch." },
                        { name: "Manly Ferry", cost: "$8", hours: "6am-12am", link: "https://transportnsw.info/", desc: "Scenic boat ride." },
                        { name: "Luna Park Sydney", cost: "Free Entry", hours: "11am-6pm", link: "https://www.lunaparksydney.com/", desc: "Harbourside fun park." }
                    ],
                    relaxation: [
                        { name: "Darling Harbour", cost: "Free", hours: "24h", link: "#", desc: "Waterfront dining." },
                        { name: "Hyde Park", cost: "Free", hours: "24h", link: "#", desc: "Central relaxing park." }
                    ],
                    shopping: [
                        { name: "The Rocks Market", cost: "Free", hours: "Weekends", link: "https://www.therocks.com/", desc: "Artisan stalls." },
                        { name: "QVB", cost: "Varied", hours: "9am-6pm", link: "https://www.qvb.com.au/", desc: "Historic shopping." },
                        { name: "Pitt Street Mall", cost: "Varied", hours: "9:30am-7pm", link: "#", desc: "Main shopping strip." }
                    ],
                    food: [
                        { name: "Sydney Fish Market", cost: "Varied", hours: "7am-4pm", link: "https://www.sydneyfishmarket.com.au/", desc: "Fresh seafood lunch." },
                        { name: "Harry's Cafe de Wheels", cost: "$10", hours: "9am-1am", link: "https://www.harryscafedewheels.com.au/", desc: "Famous meat pies." },
                        { name: "Icebergs Dining", cost: "$50+", hours: "12pm-10pm", link: "https://idrb.com/", desc: "Ocean view dining." }
                    ]
                }
            },
            "dubai": {
                name: "Dubai",
                teams: [],
                activities: {
                    culture: [
                        { name: "Burj Khalifa", cost: "AED 169", hours: "10am-11pm", link: "https://www.burjkhalifa.ae/", desc: "Tallest building." },
                        { name: "Museum of the Future", cost: "AED 145", hours: "10am-6pm", link: "https://museumofthefuture.ae/", desc: "Futuristic exhibits." },
                        { name: "Dubai Frame", cost: "AED 50", hours: "9am-9pm", link: "https://www.dubaiframe.ae/", desc: "City views." },
                        { name: "Global Village", cost: "AED 20", hours: "4pm-12am", link: "https://www.globalvillage.ae/", desc: "World culture park." },
                        { name: "Jumeirah Mosque", cost: "AED 25", hours: "10am", link: "https://www.jumeirahmosque.ae/", desc: "Guided mosque tour." }
                    ],
                    adventure: [
                        { name: "Desert Safari", cost: "AED 150", hours: "3pm-9pm", link: "https://www.visitdubai.com/", desc: "Dune bashing & BBQ." },
                        { name: "Aquaventure Waterpark", cost: "AED 299", hours: "10am-6pm", link: "https://www.atlantis.com/", desc: "Huge water slides." },
                        { name: "Sky Views Dubai", cost: "AED 85", hours: "10am-10pm", link: "https://www.skyviewsdubai.com/", desc: "Glass slide." },
                        { name: "Ski Dubai", cost: "AED 250", hours: "10am-11pm", link: "https://www.skidxb.com/", desc: "Indoor skiing." },
                        { name: "IMG Worlds", cost: "AED 345", hours: "12pm-10pm", link: "https://www.imgworlds.com/", desc: "Indoor theme park." }
                    ],
                    shopping: [
                        { name: "Dubai Mall", cost: "Free", hours: "10am-12am", link: "https://thedubaimall.com/", desc: "Massive mall." },
                        { name: "Gold Souk", cost: "Free", hours: "10am-10pm", link: "https://www.visitdubai.com/", desc: "Traditional market." },
                        { name: "Mall of the Emirates", cost: "Varied", hours: "10am-12am", link: "https://www.malloftheemirates.com/", desc: "Shopping & skiing." }
                    ],
                    nature: [
                        { name: "Miracle Garden", cost: "AED 55", hours: "9am-9pm", link: "https://www.dubaimiraclegarden.com/", desc: "Flower displays." },
                        { name: "The Green Planet", cost: "AED 125", hours: "10am-6pm", link: "https://www.thegreenplanetdubai.com/", desc: "Indoor rainforest." }
                    ],
                    food: [
                        { name: "Time Out Market", cost: "Varied", hours: "12pm-12am", link: "https://www.timeoutmarket.com/dubai/", desc: "Curated food hall." },
                        { name: "Al Mallah", cost: "AED 40", hours: "7am-2am", link: "#", desc: "Authentic shawarma." }
                    ]
                }
            },
            "bangkok": {
                name: "Bangkok",
                teams: [],
                activities: {
                    culture: [
                        { name: "Grand Palace", cost: "฿500", hours: "8:30am-3:30pm", link: "https://www.royalgrandpalace.th/", desc: "Opulent royal complex." },
                        { name: "Wat Arun", cost: "฿100", hours: "8am-6pm", link: "https://www.tourismthailand.org/", desc: "Riverside temple." },
                        { name: "Wat Pho", cost: "฿200", hours: "8am-6:30pm", link: "https://www.watpho.com/", desc: "Reclining Buddha." },
                        { name: "Jim Thompson House", cost: "฿200", hours: "9am-6pm", link: "http://www.jimthompsonhouse.com/", desc: "Silk museum." },
                        { name: "Erawan Shrine", cost: "Free", hours: "6am-11pm", link: "#", desc: "Famous shrine." }
                    ],
                    food: [
                        { name: "Chinatown Street Food", cost: "Cheap", hours: "6pm-12am", link: "https://www.tourismthailand.org/", desc: "Best street eats." },
                        { name: "Jay Fai", cost: "฿1000+", hours: "9am-8pm", link: "https://guide.michelin.com/", desc: "Michelin crab omelette." },
                        { name: "Chatuchak Market", cost: "Free", hours: "Weekends", link: "https://www.chatuchakmarket.org/", desc: "Massive weekend market." },
                        { name: "Thip Samai", cost: "฿100", hours: "5pm-12am", link: "https://thipsamai.com/", desc: "Legendary Pad Thai." }
                    ],
                    adventure: [
                        { name: "Longtail Boat", cost: "฿1500", hours: "Daytime", link: "https://www.tourismthailand.org/", desc: "Canal tour." },
                        { name: "Tuk Tuk Ride", cost: "Negotiable", hours: "Anytime", link: "#", desc: "Fast & fun transport." },
                        { name: "Sea Life Ocean World", cost: "฿1090", hours: "10am-8pm", link: "https://www.sealifebangkok.com/", desc: "Underground aquarium." }
                    ],
                    shopping: [
                        { name: "Chatuchak Weekend Market", cost: "Free", hours: "9am-6pm", link: "#", desc: "Huge market." },
                        { name: "ICONSIAM", cost: "Free", hours: "10am-10pm", link: "https://www.iconsiam.com/", desc: "Riverside luxury mall." },
                        { name: "MBK Center", cost: "Varied", hours: "10am-10pm", link: "https://mbk-center.co.th/", desc: "Tech & souvenirs." }
                    ],
                    relaxation: [
                        { name: "Chao Phraya Cruise", cost: "฿1200", hours: "Evening", link: "#", desc: "Dinner cruise." },
                        { name: "Lumpini Park", cost: "Free", hours: "4:30am-9pm", link: "#", desc: "City park with lizards." }
                    ]
                }
            },
             "capetown": {
                name: "Cape Town",
                teams: [{ home: "Stormers", venue: "DHL Stadium", league: "Rugby" }],
                activities: {
                    nature: [
                        { name: "Table Mountain", cost: "R380", hours: "8am-6pm", link: "https://tablemountain.net/", desc: "Cable car views." },
                        { name: "Kirstenbosch Gardens", cost: "R200", hours: "8am-7pm", link: "https://www.sanbi.org/", desc: "Botanical gardens." },
                        { name: "Boulders Beach", cost: "R170", hours: "8am-5pm", link: "https://www.sanparks.org/", desc: "Penguin colony." },
                        { name: "Cape Point", cost: "R376", hours: "6am-6pm", link: "https://capepoint.co.za/", desc: "Dramatic cliffs." },
                        { name: "Lion's Head Hike", cost: "Free", hours: "Sunrise", link: "#", desc: "360-degree views." }
                    ],
                    history: [
                        { name: "Robben Island", cost: "R600", hours: "9am-3pm", link: "http://www.robben-island.org.za/", desc: "Mandela's prison." },
                        { name: "District Six Museum", cost: "R50", hours: "9am-4pm", link: "https://www.districtsix.co.za/", desc: "Apartheid history." },
                        { name: "Bo-Kaap", cost: "Free", hours: "Daytime", link: "#", desc: "Colorful houses." },
                        { name: "Castle of Good Hope", cost: "R50", hours: "9:30am-3:30pm", link: "https://castleofgoodhope.co.za/", desc: "Oldest colonial building." }
                    ],
                    adventure: [
                        { name: "Shark Cage Dive", cost: "R2500", hours: "Morning", link: "https://www.sharkcagediving.co.za/", desc: "Great White sharks." },
                        { name: "Paragliding", cost: "R1300", hours: "Weather dependent", link: "https://flycapetown.co.za/", desc: "Fly off Signal Hill." },
                        { name: "Two Oceans Aquarium", cost: "R210", hours: "9:30am-6pm", link: "https://www.aquarium.co.za/", desc: "Marine life." }
                    ],
                    shopping: [
                        { name: "V&A Waterfront", cost: "Varied", hours: "9am-9pm", link: "https://www.waterfront.co.za/", desc: "Hub of shopping." },
                        { name: "Greenmarket Square", cost: "Free", hours: "9am-5pm", link: "#", desc: "African crafts." }
                    ],
                    food: [
                        { name: "V&A Food Market", cost: "Varied", hours: "10am-7pm", link: "#", desc: "Artisanal food." },
                        { name: "The Test Kitchen", cost: "R2000+", hours: "Evening", link: "#", desc: "Fine dining." }
                    ]
                }
            },
            "rio": {
                name: "Rio de Janeiro",
                teams: [{ home: "Flamengo", venue: "Maracana", league: "Serie A" }],
                activities: {
                    culture: [
                        { name: "Christ the Redeemer", cost: "R$100", hours: "8am-7pm", link: "https://tremdocorcovado.rio/", desc: "Iconic statue." },
                        { name: "Selaron Steps", cost: "Free", hours: "24h", link: "#", desc: "Colorful tile stairs." },
                        { name: "Museum of Tomorrow", cost: "R$30", hours: "10am-6pm", link: "https://museudoamanha.org.br/", desc: "Science museum." },
                        { name: "Metropolitan Cathedral", cost: "Free", hours: "7am-5pm", link: "#", desc: "Pyramid church." }
                    ],
                    nature: [
                        { name: "Sugarloaf Mountain", cost: "R$130", hours: "8am-9pm", link: "https://bondinho.com.br/", desc: "Cable car views." },
                        { name: "Copacabana Beach", cost: "Free", hours: "24h", link: "https://visitbrasil.com/", desc: "Famous beach." },
                        { name: "Ipanema Beach", cost: "Free", hours: "24h", link: "https://visitbrasil.com/", desc: "Trendy beach." },
                        { name: "Jardim Botânico", cost: "R$60", hours: "8am-5pm", link: "https://www.gov.br/jbrj/", desc: "Botanical garden." },
                        { name: "Tijuca National Park", cost: "Free", hours: "8am-5pm", link: "#", desc: "Urban rainforest." }
                    ],
                    adventure: [
                        { name: "Hang Gliding", cost: "R$600", hours: "8am-4pm", link: "https://www.rio-hanggliding.com/", desc: "Fly over the beach." },
                        { name: "Maracana Tour", cost: "R$60", hours: "9am-4pm", link: "https://www.tourmaracana.com.br/", desc: "Legendary stadium." }
                    ],
                    food: [
                        { name: "Confeitaria Colombo", cost: "R$50", hours: "10am-6pm", link: "http://www.confeitariacolombo.com.br/", desc: "Historic cafe." },
                        { name: "Fogo de Chão", cost: "R$180", hours: "12pm-11pm", link: "https://fogodechao.com/", desc: "Brazilian steakhouse." }
                    ]
                }
            },
            "toronto": {
                name: "Toronto",
                teams: [{ home: "Blue Jays", venue: "Rogers Centre", league: "MLB" }, { home: "Raptors", venue: "Scotiabank Arena", league: "NBA" }],
                activities: {
                    culture: [
                        { name: "CN Tower", cost: "$45", hours: "9am-9pm", link: "https://www.cntower.ca/", desc: "Iconic skyline views." },
                        { name: "Royal Ontario Museum", cost: "$23", hours: "10am-5:30pm", link: "https://www.rom.on.ca/", desc: "Art & natural history." },
                        { name: "Casa Loma", cost: "$30", hours: "9:30am-5pm", link: "https://casaloma.ca/", desc: "Historic castle." },
                        { name: "Art Gallery of Ontario", cost: "$25", hours: "10:30am-5pm", link: "https://ago.ca/", desc: "Canadian art." },
                        { name: "Graffiti Alley", cost: "Free", hours: "Daytime", link: "#", desc: "Street art." }
                    ],
                    food: [
                        { name: "St. Lawrence Market", cost: "Free", hours: "9am-5pm", link: "http://www.stlawrencemarket.com/", desc: "Top food market." },
                        { name: "Kensington Market", cost: "Free", hours: "11am-7pm", link: "https://kensington-market.ca/", desc: "Eclectic food neighborhood." },
                        { name: "Distillery District", cost: "Varied", hours: "10am-9pm", link: "https://www.thedistillerydistrict.com/", desc: "Dining & shopping." },
                        { name: "Poutine at Smoke's", cost: "$10", hours: "11am-3am", link: "https://smokespoutinerie.com/", desc: "Classic Canadian dish." }
                    ],
                    adventure: [
                        { name: "EdgeWalk", cost: "$195", hours: "Seasonal", link: "https://www.cntower.ca/edgewalk", desc: "Hands-free tower walk." },
                        { name: "Ripley's Aquarium", cost: "$44", hours: "9am-9pm", link: "https://www.ripleyaquariums.com/canada/", desc: "Shark tunnel." },
                        { name: "Toronto Islands", cost: "$9 Ferry", hours: "8am-11pm", link: "https://www.toronto.ca/islands/", desc: "Park & beach." },
                        { name: "Hockey Hall of Fame", cost: "$25", hours: "10am-5pm", link: "https://www.hhof.com/", desc: "Hockey history." },
                        { name: "Canada's Wonderland", cost: "$50", hours: "Seasonal", link: "https://www.canadaswonderland.com/", desc: "Theme park." }
                    ],
                    shopping: [
                        { name: "Eaton Centre", cost: "Varied", hours: "10am-9pm", link: "https://www.cfshops.com/toronto-eaton-centre.html", desc: "Massive downtown mall." },
                        { name: "Yorkville", cost: "Varied", hours: "10am-6pm", link: "https://www.bloor-yorkville.com/", desc: "Luxury shopping district." }
                    ]
                }
            },
            "berlin": {
                name: "Berlin",
                teams: [{ home: "Hertha BSC", venue: "Olympiastadion", league: "Bundesliga" }],
                activities: {
                    history: [
                        { name: "Berlin Wall Memorial", cost: "Free", hours: "8am-10pm", link: "https://www.berliner-mauer-gedenkstaette.de/", desc: "Cold War history." },
                        { name: "Brandenburg Gate", cost: "Free", hours: "24h", link: "https://www.berlin.de/", desc: "Iconic landmark." },
                        { name: "Reichstag Dome", cost: "Free (Book)", hours: "8am-12am", link: "https://www.bundestag.de/", desc: "Parliament views." },
                        { name: "Checkpoint Charlie", cost: "Free", hours: "24h", link: "#", desc: "Crossing point." },
                        { name: "Berlin Cathedral", cost: "€7", hours: "9am-5pm", link: "https://www.berlinerdom.de/", desc: "Historic church." },
                        { name: "Topography of Terror", cost: "Free", hours: "10am-8pm", link: "https://www.topographie.de/", desc: "WWII history museum." }
                    ],
                    culture: [
                        { name: "Museum Island", cost: "€19", hours: "10am-6pm", link: "https://www.smb.museum/", desc: "World-class museums." },
                        { name: "East Side Gallery", cost: "Free", hours: "24h", link: "https://www.eastsidegallery-berlin.com/", desc: "Wall art." },
                        { name: "Pergamon Museum", cost: "€12", hours: "10am-6pm", link: "https://www.smb.museum/", desc: "Ancient artifacts." }
                    ],
                    adventure: [
                        { name: "TV Tower", cost: "€25", hours: "10am-10pm", link: "https://tv-turm.de/", desc: "360 city views." },
                        { name: "Tempelhofer Feld", cost: "Free", hours: "Sunrise-Sunset", link: "https://gruen-berlin.de/", desc: "Park on airport runway." },
                        { name: "Berlin Zoo", cost: "€16", hours: "9am-6pm", link: "https://www.zoo-berlin.de/", desc: "Oldest zoo in Germany." }
                    ],
                    food: [
                        { name: "Curry 36", cost: "€5", hours: "9am-5am", link: "https://curry36.de/", desc: "Famous Currywurst." },
                        { name: "Markthalle Neun", cost: "Free Entry", hours: "Varied", link: "https://markthalleneun.de/", desc: "Street food market." },
                        { name: "Mustafa's Gemüsekebap", cost: "€6", hours: "10am-2am", link: "#", desc: "Famous kebab queue." }
                    ],
                    shopping: [
                        { name: "Mauerpark Flea Market", cost: "Free", hours: "Sunday", link: "#", desc: "Vintage finds." },
                        { name: "KaDeWe", cost: "Varied", hours: "10am-8pm", link: "https://www.kadewe.de/", desc: "Luxury department store." }
                    ]
                }
            },
             "seoul": {
                name: "Seoul",
                teams: [],
                activities: {
                    culture: [
                        { name: "Gyeongbokgung Palace", cost: "₩3000", hours: "9am-5pm", link: "http://www.royalpalace.go.kr/", desc: "Main royal palace." },
                        { name: "Bukchon Hanok Village", cost: "Free", hours: "9am-5pm", link: "https://english.visitkorea.or.kr/", desc: "Traditional houses." },
                        { name: "Changdeokgung Palace", cost: "₩3000", hours: "9am-5pm", link: "#", desc: "Secret garden." },
                        { name: "Insadong", cost: "Free", hours: "10am-9pm", link: "#", desc: "Traditional crafts." },
                        { name: "National Museum", cost: "Free", hours: "10am-6pm", link: "https://www.museum.go.kr/", desc: "Korean history." }
                    ],
                    food: [
                        { name: "Gwangjang Market", cost: "Cheap", hours: "9am-11pm", link: "https://english.visitkorea.or.kr/", desc: "Street food heaven." },
                        { name: "Myeongdong Street", cost: "Varied", hours: "4pm-11pm", link: "#", desc: "Shopping & snacks." },
                        { name: "Korean BBQ", cost: "₩30000", hours: "Evening", link: "#", desc: "Grill your own meat." }
                    ],
                    adventure: [
                        { name: "N Seoul Tower", cost: "₩16000", hours: "10am-11pm", link: "https://www.nseoultower.co.kr/", desc: "City views." },
                        { name: "Lotte World", cost: "₩62000", hours: "10am-10pm", link: "https://www.lotteworld.com/", desc: "Indoor theme park." },
                        { name: "Everland", cost: "₩56000", hours: "10am-9pm", link: "https://www.everland.com/", desc: "Huge outdoor theme park." }
                    ],
                    shopping: [
                        { name: "Gangnam District", cost: "Varied", hours: "10am-10pm", link: "#", desc: "Upscale shopping." },
                        { name: "Dongdaemun Design Plaza", cost: "Free", hours: "10am-9pm", link: "https://ddp.or.kr/", desc: "Futuristic design hub." },
                        { name: "Starfield COEX Mall", cost: "Varied", hours: "10:30am-10pm", link: "https://www.starfield.co.kr/", desc: "Underground library mall." }
                    ],
                    nature: [
                        { name: "Cheonggyecheon Stream", cost: "Free", hours: "24h", link: "#", desc: "Urban walk." },
                        { name: "Han River Park", cost: "Free", hours: "24h", link: "#", desc: "Riverside picnics." }
                    ]
                }
            },
            "los-angeles": {
                name: "Los Angeles",
                teams: [{ home: "Lakers", venue: "Crypto.com Arena", league: "NBA" }, { home: "Dodgers", venue: "Dodger Stadium", league: "MLB" }],
                activities: {
                    culture: [
                        { name: "Getty Center", cost: "Free", hours: "10am-5:30pm", link: "https://www.getty.edu/", desc: "Art & views." },
                        { name: "Griffith Observatory", cost: "Free", hours: "12pm-10pm", link: "https://griffithobservatory.org/", desc: "Space & Hollywood sign." },
                        { name: "LACMA", cost: "$25", hours: "11am-6pm", link: "https://www.lacma.org/", desc: "Modern art & lights." },
                        { name: "The Broad", cost: "Free (Book)", hours: "11am-5pm", link: "https://www.thebroad.org/", desc: "Contemporary art." },
                        { name: "Academy Museum", cost: "$25", hours: "10am-6pm", link: "https://www.academymuseum.org/", desc: "History of cinema." }
                    ],
                    adventure: [
                        { name: "Universal Studios", cost: "$109+", hours: "9am-7pm", link: "https://www.universalstudioshollywood.com/", desc: "Movies & rides." },
                        { name: "Warner Bros Tour", cost: "$70", hours: "8:30am-3:30pm", link: "https://www.wbstudiotour.com/", desc: "Studio sets." },
                        { name: "Santa Monica Pier", cost: "Free Entry", hours: "6am-10pm", link: "https://santamonicapier.org/", desc: "Ferris wheel & beach." },
                        { name: "Disneyland", cost: "$104+", hours: "8am-11pm", link: "https://disneyland.disney.go.com/", desc: "Happiest place on earth." }
                    ],
                    nature: [
                        { name: "Runyon Canyon", cost: "Free", hours: "Sunrise-Sunset", link: "https://laparks.org/", desc: "Hiking & views." },
                        { name: "Venice Beach", cost: "Free", hours: "24h", link: "https://www.laparks.org/venice", desc: "Boardwalk & skatepark." },
                        { name: "Huntington Library", cost: "$29", hours: "10am-5pm", link: "https://huntington.org/", desc: "Gardens & art." },
                        { name: "Zuma Beach", cost: "Free", hours: "Sunrise-Sunset", link: "#", desc: "Malibu sands." }
                    ],
                    shopping: [
                        { name: "Melrose Avenue", cost: "Varied", hours: "11am-7pm", link: "#", desc: "Vintage & street art." },
                        { name: "The Grove", cost: "Varied", hours: "10am-9pm", link: "https://thegrovela.com/", desc: "Outdoor mall." },
                        { name: "Rodeo Drive", cost: "Window Shop", hours: "10am-6pm", link: "https://rodeodrive-bh.com/", desc: "Luxury fashion." }
                    ],
                    food: [
                        { name: "In-N-Out Burger", cost: "$10", hours: "10:30am-1am", link: "https://www.in-n-out.com/", desc: "California staple." },
                        { name: "Grand Central Market", cost: "Varied", hours: "8am-10pm", link: "https://www.grandcentralmarket.com/", desc: "Downtown food hall." },
                        { name: "Roscoe's Chicken", cost: "$20", hours: "8am-8pm", link: "https://www.roscoeschickenandwaffles.com/", desc: "Soul food classic." }
                    ]
                }
            },
            "chicago": {
                name: "Chicago",
                teams: [{ home: "Bulls", venue: "United Center", league: "NBA" }, { home: "Cubs", venue: "Wrigley Field", league: "MLB" }],
                activities: {
                    culture: [
                        { name: "Art Institute", cost: "$32", hours: "11am-5pm", link: "https://www.artic.edu/", desc: "Ferris Bueller's museum." },
                        { name: "Field Museum", cost: "$30", hours: "9am-5pm", link: "https://www.fieldmuseum.org/", desc: "T-Rex Sue." },
                        { name: "The Bean", cost: "Free", hours: "6am-11pm", link: "https://www.chicago.gov/", desc: "Cloud Gate sculpture." },
                        { name: "Museum of Science & Industry", cost: "$25", hours: "9:30am-4pm", link: "https://www.msichicago.org/", desc: "Interactive exhibits." },
                        { name: "Shedd Aquarium", cost: "$40", hours: "9am-5pm", link: "https://www.sheddaquarium.org/", desc: "Aquatic life." }
                    ],
                    food: [
                        { name: "Lou Malnati's", cost: "$25", hours: "11am-11pm", link: "https://www.loumalnatis.com/", desc: "Deep dish pizza." },
                        { name: "Portillo's", cost: "$10", hours: "10am-10pm", link: "https://www.portillos.com/", desc: "Italian beef & dogs." },
                        { name: "Garrett Popcorn", cost: "$10", hours: "10am-7pm", link: "https://www.garrettpopcorn.com/", desc: "Chicago mix." },
                        { name: "Au Cheval", cost: "$20", hours: "10am-11pm", link: "https://auchevalchicago.com/", desc: "Famous burger." }
                    ],
                    adventure: [
                        { name: "Skydeck Chicago", cost: "$35", hours: "9am-10pm", link: "https://theskydeck.com/", desc: "Ledge glass box." },
                        { name: "Architecture Boat Tour", cost: "$50", hours: "Daytime", link: "https://www.cruisechicago.com/", desc: "River history." },
                        { name: "360 Chicago", cost: "$30", hours: "9am-11pm", link: "https://360chicago.com/", desc: "Tilt over city." },
                        { name: "Navy Pier", cost: "Free Entry", hours: "10am-10pm", link: "https://navypier.org/", desc: "Ferris wheel & fun." }
                    ],
                    nature: [
                        { name: "Lincoln Park Zoo", cost: "Free", hours: "10am-5pm", link: "https://www.lpzoo.org/", desc: "City zoo." },
                        { name: "Lakefront Trail", cost: "Free", hours: "24h", link: "#", desc: "Scenic walk/bike." },
                        { name: "Millennium Park", cost: "Free", hours: "6am-11pm", link: "#", desc: "Urban green space." }
                    ],
                    shopping: [
                        { name: "Magnificent Mile", cost: "Varied", hours: "10am-9pm", link: "#", desc: "Shopping avenue." }
                    ]
                }
            },
            "san-francisco": {
                name: "San Francisco",
                teams: [{ home: "Warriors", venue: "Chase Center", league: "NBA" }, { home: "Giants", venue: "Oracle Park", league: "MLB" }],
                activities: {
                    culture: [
                        { name: "Alcatraz", cost: "$45", hours: "8:45am-6:30pm", link: "https://www.nps.gov/alca/", desc: "Prison island tour." },
                        { name: "Fisherman's Wharf", cost: "Free", hours: "24h", link: "https://www.fishermanswharf.org/", desc: "Sea lions & chowder." },
                        { name: "Painted Ladies", cost: "Free", hours: "Daytime", link: "#", desc: "Famous Victorian houses." },
                        { name: "SFMOMA", cost: "$25", hours: "10am-5pm", link: "https://www.sfmoma.org/", desc: "Modern art museum." },
                        { name: "Exploratorium", cost: "$40", hours: "10am-5pm", link: "https://www.exploratorium.edu/", desc: "Science museum." }
                    ],
                    adventure: [
                        { name: "Golden Gate Bridge", cost: "Free", hours: "24h", link: "https://www.goldengate.org/", desc: "Walk or bike across." },
                        { name: "Cable Cars", cost: "$8", hours: "7am-10pm", link: "https://www.sfmta.com/", desc: "Iconic ride." },
                        { name: "Lombard Street", cost: "Free", hours: "24h", link: "#", desc: "Crookedest street." },
                        { name: "Coit Tower", cost: "$10", hours: "10am-5pm", link: "https://sfrecpark.org/destination/telegraph-hill-pioneer-park/coit-tower/", desc: "City views." }
                    ],
                    nature: [
                        { name: "Muir Woods", cost: "$15", hours: "8am-6pm", link: "https://www.nps.gov/muwo/", desc: "Redwood forest." },
                        { name: "Golden Gate Park", cost: "Free", hours: "24h", link: "https://goldengatepark.com/", desc: "Museums & gardens." },
                        { name: "Twin Peaks", cost: "Free", hours: "24h", link: "#", desc: "City panoramic view." },
                        { name: "Land's End", cost: "Free", hours: "Sunrise-Sunset", link: "#", desc: "Coastal trail." }
                    ],
                    food: [
                        { name: "Boudin Bakery", cost: "$15", hours: "8am-8pm", link: "https://boudinbakery.com/", desc: "Sourdough bread bowl." },
                        { name: "Ghirardelli Square", cost: "Varied", hours: "9am-10pm", link: "https://www.ghirardelli.com/", desc: "Chocolate factory." },
                        { name: "Ferry Building", cost: "Varied", hours: "7am-10pm", link: "https://www.ferrybuildingmarketplace.com/", desc: "Food market." }
                    ],
                    shopping: [
                        { name: "Union Square", cost: "Varied", hours: "10am-9pm", link: "#", desc: "Shopping district." },
                        { name: "Haight-Ashbury", cost: "Varied", hours: "11am-7pm", link: "#", desc: "Vintage & hippie shops." }
                    ]
                }
            },
            "miami": {
                name: "Miami",
                teams: [{ home: "Heat", venue: "Kaseya Center", league: "NBA" }, { home: "Dolphins", venue: "Hard Rock Stadium", league: "NFL" }],
                activities: {
                    culture: [
                        { name: "Wynwood Walls", cost: "$12", hours: "11am-7pm", link: "https://thewynwoodwalls.com/", desc: "Street art museum." },
                        { name: "Vizcaya Museum", cost: "$25", hours: "9:30am-4:30pm", link: "https://vizcaya.org/", desc: "Historic villa." },
                        { name: "Perez Art Museum", cost: "$16", hours: "11am-6pm", link: "https://www.pamm.org/", desc: "Contemporary art." },
                        { name: "Frost Science Museum", cost: "$30", hours: "10am-6pm", link: "https://www.frostscience.org/", desc: "Science & aquarium." }
                    ],
                    nature: [
                        { name: "South Beach", cost: "Free", hours: "24h", link: "https://www.miamiandbeaches.com/", desc: "Art deco & ocean." },
                        { name: "Everglades Tour", cost: "$30", hours: "9am-5pm", link: "https://www.evergladessafaripark.com/", desc: "Airboat & gators." },
                        { name: "Fairchild Garden", cost: "$25", hours: "10am-5pm", link: "https://fairchildgarden.org/", desc: "Tropical botanic garden." },
                        { name: "Venetian Pool", cost: "$20", hours: "10am-4:30pm", link: "https://www.coralgables.com/attractions/venetian-pool", desc: "Historic spring pool." }
                    ],
                    food: [
                        { name: "Versailles", cost: "$20", hours: "8am-1am", link: "https://www.versaillesrestaurant.com/", desc: "Famous Cuban food." },
                        { name: "Joe's Stone Crab", cost: "$50+", hours: "Seasonal", link: "https://joesstonecrab.com/", desc: "Legendary seafood." },
                        { name: "Little Havana Food Tour", cost: "$60", hours: "11am", link: "#", desc: "Culinary walking tour." },
                        { name: "Coyo Taco", cost: "$15", hours: "11am-2am", link: "https://coyo-taco.com/", desc: "Trendy tacos." }
                    ],
                    adventure: [
                        { name: "Speedboat Tour", cost: "$40", hours: "10am-5pm", link: "https://thrillermiami.com/", desc: "Fast bay tour." },
                        { name: "Jungle Island", cost: "$50", hours: "10am-5pm", link: "https://www.jungleisland.com/", desc: "Eco-adventure park." }
                    ],
                    shopping: [
                        { name: "Bayside Marketplace", cost: "Varied", hours: "10am-10pm", link: "https://www.baysidemarketplace.com/", desc: "Waterfront shops." },
                        { name: "Design District", cost: "Window Shop", hours: "11am-8pm", link: "https://www.miamidesigndistrict.net/", desc: "Luxury fashion & art." }
                    ]
                }
            },
            "istanbul": {
                name: "Istanbul",
                teams: [{ home: "Galatasaray", venue: "Nef Stadium", league: "Süper Lig" }],
                activities: {
                    culture: [
                        { name: "Hagia Sophia", cost: "Free", hours: "24h", link: "https://ayasofyacamii.gov.tr/", desc: "Iconic Byzantine mosque." },
                        { name: "Blue Mosque", cost: "Free", hours: "9am-6pm", link: "http://www.sultanahmetcamii.org/", desc: "Famous for blue tiles." },
                        { name: "Topkapi Palace", cost: "₺500", hours: "9am-6pm", link: "https://www.millisaraylar.gov.tr/", desc: "Ottoman sultans' home." }
                    ],
                    history: [
                        { name: "Basilica Cistern", cost: "₺350", hours: "9am-7pm", link: "https://www.yerebatan.com/en", desc: "Ancient underground water system." },
                        { name: "Galata Tower", cost: "₺350", hours: "8:30am-10pm", link: "https://muze.gov.tr/", desc: "Panoramic city views." }
                    ],
                    shopping: [
                        { name: "Grand Bazaar", cost: "Free", hours: "10am-6pm", link: "https://www.kapalicarsi.com.tr/", desc: "One of the oldest covered markets." },
                        { name: "Spice Bazaar", cost: "Free", hours: "8am-7pm", link: "http://www.misircarsisi.org.tr/", desc: "Exotic spices and sweets." }
                    ],
                    food: [
                        { name: "Hafiz Mustafa", cost: "Varied", hours: "24h", link: "https://www.hafizmustafa.com/", desc: "Famous Turkish delight." },
                        { name: "Street Simit", cost: "Cheap", hours: "Morning", link: "#", desc: "Traditional sesame bagel." }
                    ],
                    adventure: [
                        { name: "Bosphorus Cruise", cost: "₺150", hours: "Every hour", link: "https://sehirhatlari.istanbul/en", desc: "Boat between Europe and Asia." }
                    ]
                }
            },
            "singapore": {
                name: "Singapore",
                teams: [],
                activities: {
                    nature: [
                        { name: "Gardens by the Bay", cost: "Free (OCBC $)", hours: "5am-2am", link: "https://www.gardensbythebay.com.sg/", desc: "Futuristic supertrees." },
                        { name: "Singapore Botanic Gardens", cost: "Free", hours: "5am-12am", link: "https://www.nparks.gov.sg/sbg", desc: "UNESCO World Heritage site." }
                    ],
                    culture: [
                        { name: "National Museum", cost: "$15", hours: "10am-7pm", link: "https://www.nhb.gov.sg/nationalmuseum", desc: "History of Singapore." },
                        { name: "Chinatown Heritage Centre", cost: "$18", hours: "9am-8pm", link: "https://chinatownheritagecentre.com.sg/", desc: "Restored shophouses." }
                    ],
                    adventure: [
                        { name: "Universal Studios", cost: "$82", hours: "11am-6pm", link: "https://www.rwsentosa.com/", desc: "Movie theme park." },
                        { name: "Night Safari", cost: "$55", hours: "7:15pm-12am", link: "https://www.mandai.com/en/night-safari.html", desc: "Nocturnal zoo." }
                    ],
                    food: [
                        { name: "Maxwell Food Centre", cost: "Cheap", hours: "8am-2am", link: "#", desc: "Famous chicken rice." },
                        { name: "Satay by the Bay", cost: "Varied", hours: "11am-10pm", link: "https://sataybythebay.com.sg/", desc: "Open-air dining." }
                    ],
                    shopping: [
                        { name: "Orchard Road", cost: "Varied", hours: "10am-10pm", link: "#", desc: "Famous shopping belt." },
                        { name: "Marina Bay Sands Shoppes", cost: "Varied", hours: "10am-11pm", link: "https://www.marinabaysands.com/shopping.html", desc: "Luxury mall with canal." }
                    ]
                }
            }
        };
        
        // Fallback populator for any missing categories or small cities
        Object.keys(db).forEach(city => {
            const defaults = {
                culture: [{ name: `${city} Museum`, cost: "$15", hours: "10am-5pm", link: "#", desc: "Local history & art." }, { name: "City Gallery", cost: "Free", hours: "10am-6pm", link: "#", desc: "Art exhibitions." }],
                food: [{ name: "City Center Dining", cost: "Varied", hours: "11am-10pm", link: "#", desc: "Local cuisine." }, { name: "Street Food Market", cost: "Cheap", hours: "Evening", link: "#", desc: "Local snacks." }],
                nature: [{ name: "Public Park", cost: "Free", hours: "Dawn-Dusk", link: "#", desc: "Green space." }, { name: "City Gardens", cost: "Free", hours: "8am-6pm", link: "#", desc: "Floral displays." }],
                history: [{ name: "Historic District", cost: "Free", hours: "24h", link: "#", desc: "Old town streets." }, { name: "Old Monument", cost: "Free", hours: "24h", link: "#", desc: "City landmark." }],
                relaxation: [{ name: "City Spa", cost: "$50+", hours: "9am-9pm", link: "#", desc: "Wellness center." }, { name: "River Walk", cost: "Free", hours: "24h", link: "#", desc: "Relaxing stroll." }],
                shopping: [{ name: "Main Street", cost: "Varied", hours: "10am-8pm", link: "#", desc: "Local shops." }, { name: "Central Mall", cost: "Varied", hours: "10am-9pm", link: "#", desc: "Shopping center." }],
                adventure: [{ name: "City Tour", cost: "$30", hours: "10am", link: "#", desc: "Guided sightseeing." }, { name: "Bike Rental", cost: "$20", hours: "Daytime", link: "#", desc: "Explore on wheels." }],
                nightlife: [{ name: "Night Market", cost: "Free", hours: "Evening", link: "#", desc: "Evening vibes." }, { name: "Theater Show", cost: "$50", hours: "7pm", link: "#", desc: "Live entertainment." }]
            };
            
            ['culture', 'food', 'nature', 'history', 'relaxation', 'shopping', 'adventure', 'nightlife'].forEach(cat => {
                if(!db[city].activities[cat] || db[city].activities[cat].length < 2) {
                    db[city].activities[cat] = db[city].activities[cat] ? [...db[city].activities[cat], ...defaults[cat]] : defaults[cat];
                }
            });
        });

        // --- UI LOGIC ---

        function toggleCustomDest() {
            const val = document.getElementById('destination').value;
            const container = document.getElementById('custom-dest-container');
            container.classList.toggle('show', val === 'custom');
        }

        function toggleCustomInterest() {
            const checked = document.getElementById('custom-interest-check').checked;
            const container = document.getElementById('custom-interest-container');
            container.classList.toggle('show', checked);
        }

        function toggleNightlife() {
            const ageGroup = document.getElementById('age-group').value;
            const nightlifeOption = document.getElementById('nightlife-option');
            const nightlifeInput = nightlifeOption.querySelector('input');
            
            if(ageGroup === 'family') {
                nightlifeInput.checked = false;
                nightlifeOption.classList.add('opacity-50', 'pointer-events-none');
            } else {
                nightlifeOption.classList.remove('opacity-50', 'pointer-events-none');
            }
        }
        
        // Initialize Date Input to Today
        document.getElementById('start-date').valueAsDate = new Date();

        function resetApp() {
            document.getElementById('input-section').classList.remove('hidden');
            document.getElementById('results-view').classList.add('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function getCityData(key, customName) {
            if (db[key]) return db[key];
            const cleanName = customName || "Mystery City";
            // Generic fallback with better structure
            return {
                name: cleanName,
                teams: [],
                activities: {
                    culture: [{ name: `${cleanName} Museum`, cost: "$20", hours: "10am-5pm", link: `https://google.com/search?q=${cleanName}+museum`, desc: "Local history." }],
                    food: [{ name: "Downtown Dining", cost: "Varied", hours: "11am-10pm", link: `https://google.com/search?q=${cleanName}+restaurants`, desc: "Local flavors." }],
                    nature: [{ name: "City Park", cost: "Free", hours: "Dawn-Dusk", link: `https://google.com/search?q=${cleanName}+parks`, desc: "Green space." }],
                    history: [{ name: "Old Town", cost: "Free", hours: "24h", link: `https://google.com/search?q=${cleanName}+old+town`, desc: "Historic center." }],
                    relaxation: [{ name: "Local Spa", cost: "$50+", hours: "9am-9pm", link: `https://google.com/search?q=${cleanName}+spa`, desc: "Relax and unwind." }],
                    shopping: [{ name: "Main Street", cost: "Varied", hours: "10am-9pm", link: `https://google.com/search?q=${cleanName}+shopping`, desc: "Shopping district." }],
                    adventure: [{ name: "City Tour", cost: "$30", hours: "10am", link: `https://google.com/search?q=${cleanName}+tours`, desc: "Guided tour." }],
                    nightlife: [{ name: "Evening Plaza", cost: "Free", hours: "Evening", link: `https://google.com/search?q=${cleanName}+nightlife`, desc: "Evening atmosphere." }]
                }
            };
        }

        // --- GENERATOR LOGIC ---

        function generateItinerary() {
            document.getElementById('input-section').classList.add('hidden');
            document.getElementById('results-view').classList.add('hidden');
            document.getElementById('loading-view').classList.remove('hidden');
            
            setTimeout(() => {
                buildItinerary();
                document.getElementById('loading-view').classList.add('hidden');
                document.getElementById('results-view').classList.remove('hidden');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 1500);
        }

        function buildItinerary() {
            const destSelect = document.getElementById('destination').value;
            const customCityName = document.getElementById('custom-dest-val').value;
            const days = parseInt(document.getElementById('duration').value);
            const budget = document.getElementById('budget').value;
            const ageGroup = document.getElementById('age-group').value;
            const startDateVal = document.getElementById('start-date').value;
            
            let selectedInterests = Array.from(document.querySelectorAll('input[name="interest"]:checked')).map(el => el.value);
            
            if (ageGroup === 'family') {
                selectedInterests = selectedInterests.filter(i => i !== 'nightlife');
                if(selectedInterests.length === 0) selectedInterests.push('nature', 'culture');
            }

            const customInterestCheck = document.getElementById('custom-interest-check').checked;
            const customInterestVal = document.getElementById('custom-interest-val').value;
            if (customInterestCheck && customInterestVal) selectedInterests.push('custom');
            if (selectedInterests.length === 0) selectedInterests.push('culture', 'food');

            const cityData = getCityData(destSelect, customCityName);
            const startDate = new Date(startDateVal);

            document.getElementById('result-title').innerText = `Trip to ${cityData.name}`;
            document.getElementById('result-subtitle').innerText = `${days} Days • ${ageGroup.charAt(0).toUpperCase() + ageGroup.slice(1)} Trip • ${budget.charAt(0).toUpperCase() + budget.slice(1)}`;

            const container = document.getElementById('itinerary-container');
            container.innerHTML = '';

            // --- MASTER POOL GENERATION (CRITICAL FIX FOR REPETITION) ---
            let masterPool = [];
            
            // 1. Gather all possible activities based on interests
            selectedInterests.forEach(interest => {
                if(interest === 'custom') {
                    // Add multiple custom slots to ensure variety
                    for(let k=0; k<3; k++) {
                        masterPool.push({
                            name: `${customInterestVal} Exploration ${k+1}`,
                            cost: "Varied",
                            hours: "Daytime",
                            link: `https://google.com/search?q=${cityData.name}+${customInterestVal}`,
                            desc: `Discovering unique ${customInterestVal} spots in ${cityData.name}.`
                        });
                    }
                } else if (cityData.activities[interest]) {
                    masterPool.push(...cityData.activities[interest]);
                }
            });

            // 2. Shuffle the master pool ONCE for the whole trip
            masterPool = shuffle(masterPool);

            // 3. Fallback generator if pool runs dry
            const getFallbackActivity = (idx) => ({
                name: `Explore ${cityData.name}`,
                cost: "Free",
                hours: "Anytime",
                link: `https://google.com/search?q=things+to+do+in+${cityData.name}`,
                desc: "Discover hidden streets and local vibes."
            });

            for (let i = 0; i < days; i++) {
                const currentDate = new Date(startDate);
                currentDate.setDate(startDate.getDate() + i + 1);
                const options = { weekday: 'long', month: 'short', day: 'numeric' };
                const dateString = currentDate.toLocaleDateString('en-US', options);

                const dayHTML = document.createElement('div');
                dayHTML.className = "relative border-l-4 border-slate-200 pl-8 pb-8";
                
                const dayMarker = `
                    <div class="absolute -left-3 top-0 bg-brand-accent text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold border-4 border-white shadow-md">
                        ${i + 1}
                    </div>
                    <div class="mb-6">
                        <h3 class="text-2xl font-bold text-slate-800">Day ${i + 1}</h3>
                        <p class="text-slate-500 font-medium">${dateString}</p>
                    </div>
                `;

                let dailyActivities = [];
                let count = 3; // Standard pace
                if(ageGroup === 'family') count = 2;
                if(ageGroup === 'young-adult') count = 4;

                // Pick unique items from the shuffled master pool
                for(let k=0; k<count; k++) {
                    if(masterPool.length > 0) {
                        dailyActivities.push(masterPool.shift());
                    } else {
                        dailyActivities.push(getFallbackActivity(k));
                    }
                }

                // Sports Logic (Only insert occasionally)
                if (selectedInterests.includes('sports') && cityData.teams.length > 0 && Math.random() > 0.7 && i % 2 !== 0) {
                    const team = getRandom(cityData.teams);
                    // Replace the last activity with sports
                    dailyActivities[dailyActivities.length - 1] = {
                        isSports: true,
                        name: `${team.home} Game`,
                        venue: team.venue,
                        cost: "$50+",
                        hours: "7:00 PM",
                        link: `https://www.ticketmaster.com/search?q=${team.home}`,
                        desc: `Live ${team.league} action.`
                    };
                }

                let cardsHTML = `<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">`;
                const timeSlots = ["Morning", "Afternoon", "Evening", "Late Night"];

                dailyActivities.forEach((act, index) => {
                    if(!act) return;
                    const timeLabel = timeSlots[index] || "Activity";
                    
                    if (ageGroup === 'family' && act.desc && act.desc.toLowerCase().includes('club')) {
                        act.name = "Evening Light Show";
                        act.desc = "Safe and fun evening entertainment.";
                    }

                    cardsHTML += `
                        <div class="activity-card bg-white rounded-xl overflow-hidden shadow-sm border border-slate-100 flex flex-col">
                            <div class="p-5 flex-grow">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="bg-slate-100 text-slate-600 px-2 py-1 rounded text-xs font-bold uppercase">${timeLabel}</span>
                                    ${act.isSports ? '<span class="text-blue-600 text-xs font-bold"><i class="fas fa-trophy"></i> Sport</span>' : ''}
                                </div>
                                <h4 class="text-lg font-bold text-slate-800 mb-2 font-serif">${act.name}</h4>
                                <p class="text-slate-500 text-sm leading-relaxed mb-4">${act.desc}</p>
                                <div class="flex items-center gap-3 text-sm text-slate-600 mb-1">
                                    <i class="far fa-clock text-brand-accent w-4"></i> <span>${act.hours}</span>
                                </div>
                                <div class="flex items-center gap-3 text-sm text-slate-600">
                                    <i class="fas fa-wallet text-brand-accent w-4"></i> <span>${act.cost}</span>
                                </div>
                            </div>
                            <div class="bg-slate-50 p-4 border-t border-slate-100">
                                <a href="${act.link}" target="_blank" class="text-brand-accent hover:text-blue-700 font-bold text-sm flex items-center justify-between group">
                                    ${act.isSports ? 'Get Tickets' : 'Visit Website'}
                                    <i class="fas fa-external-link-alt group-hover:translate-x-1 transition-transform"></i>
                                </a>
                            </div>
                        </div>
                    `;
                });
                
                cardsHTML += `</div>`;
                dayHTML.innerHTML = dayMarker + cardsHTML;
                container.appendChild(dayHTML);
            }
        }
    </script>
</body>
</html>
